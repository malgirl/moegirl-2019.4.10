{"parse":{"title":"Widget:ArchiveLink","pageid":214543,"wikitext":{"*":"<noinclude>\u4ec5\u7528\u4e8e\u5404\u7c7b\u6863\u6848\u9986\u6a21\u677f</noinclude><includeonly><!--{if !isset($wgArchiveLink) || !$wgArchiveLink}--><!--{assign var=\"wgArchiveLink\" value=true scope=\"global\"}--><script>\nwindow.RLQ = window.RLQ || [];\nwindow.RLQ.push(function() {\n    $(function() {\n        $('.archiveLink').each(function() {\n            if (!this.dataset.prefix || !this.dataset.year || this.dataset.monthStart === '') return;\n            var year = +this.dataset.year,\n                monthStart = +this.dataset.monthStart,\n                prefix = this.dataset.prefix,\n                date = new Date(),\n                nowYear = date.getFullYear(),\n                nowMonth = date.getMonth() + 1,\n                flag = this.dataset.flag;\n            $(this).empty();\n            for (var i = 1; i < 13; i++) {\n                // console.debug(year, monthStart, year >= nowYear && monthStart > nowMonth, year >= nowYear && monthStart === nowMonth);\n                // if (year >= nowYear && i > nowMonth) break;\n                var a = $('<a/>'),\n                    appendZero = i < 10 ? '0' + i : i;\n                var pagename = 'Talk:' + prefix + '/\u5b58\u6863/' + year + '\u5e74' + appendZero + '\u6708';\n                a.text(appendZero + ' ').attr({\n                    title: pagename,\n                    href: '//zh.moegirl.org/' + pagename\n                });\n                if (i < monthStart || year === nowYear && i > nowMonth || year > nowYear) a.css({\n                    speak: \"none\",\n                    visibility: \"hidden\",\n                    color: \"transparent\"\n                });\n                if (!decodeURI(location.href).includes(\"/\u5b58\u6863/\")) {\n                    if (year === nowYear && i === nowMonth) {\n                        a.css({\n                            \"color\": \"inherit\",\n                            \"text-decoration\": \"none\",\n                            \"font-style\": \"italic\"\n                        });\n                    }\n                } else if (decodeURI(location.href).includes(pagename)) {\n                    a.css({\n                        \"letter-spacing\": \"-0.8px\",\n                        \"font-weight\": \"bold\"\n                    });\n                    $(this).append(a[0].outerHTML.trim().replace(/^<a /, \"<span \").replace(/<\\/a>$/, \"</span>\"));\n                    continue;\n                }\n                $(this).append(a);\n            }\n        });\n    });\n});</script><!--{/if}--></includeonly>"}}}