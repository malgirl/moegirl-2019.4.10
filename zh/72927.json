{"parse":{"title":"User:Nzh21/js/GlobalRubyToggle.js","pageid":304922,"wikitext":{"*":"var widgetHideRuby = (function () {\n    var hideRuby = 0;\n    return function (button, element) {\n        // button\u63a7\u5236element\u4e2d\u6240\u6709ruby\u7684\u663e\u9690\n        button.bind('click', function () {\n            var elements = element.find('ruby').find('rt,rp');\n            if (hideRuby == 1) {\n                hideRuby = 0;\n                elements.css('display', '');\n            } else {\n                hideRuby = 1;\n                elements.css('display', 'none');\n            }\n\n        });\n    };\n}());\n$(function () {\n    if ($('.HideRuby')[0]) return;\n    $(document).find('body').append('<div class=\"HideRuby\" title=\"Ruby\u5f00\u5173\" style=\"transition: .37s all ease-in-out;user-select: none; width: 20px;padding: 5px 0; background-color: #000; color: #fff; font-size: 12px; text-align: center; position: fixed; right: 0; cursor: pointer; opacity: .6; bottom: 100px;\">R<br />u<br />b<br />y<br />\u5f00\u5173</div>');\n    $(document).find('body').show();\n\n    var button = $('.HideRuby');\n    if ($('.backToTop')[0])\n\t    $(window).on('scroll', function () {\n\t        if ($('#heimu_toggle')[0]) {\n\t            $(document).scrollTop() > 0 ? button.css('bottom', '286px') : button.css('bottom', '193px');\n\t        } else {\n\t            $(document).scrollTop() > 0 ? button.css('bottom', '193px') : button.css('bottom', '100px');\n\t        }\n\t    }).scroll();\n    widgetHideRuby(button, $(document));\n});"}}}