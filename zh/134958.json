{"parse":{"title":"\u6a21\u5757:Gallery items","pageid":313880,"wikitext":{"*":"-- this module implements [[template:gallery items]]\nlocal p = {}\n\nfunction p.main(frame)\n\tlocal getArgs = require('Module:Arguments').getArgs\n\tlocal args = getArgs(frame)\n\n\tlocal width = args.width or '150px'\n\n\tlocal items = {}\n\tfor k, v in pairs(args) do\n    \tif k ~= nil and tonumber(k) and math.fmod(k,2) == 1 then\n    \t\tlocal i = math.floor(k/2) + 1\n    \t\tlocal item = mw.html.create('li')\n    \t\t\t:addClass('gallerybox')\n    \t\t\t:css('width', args['width' .. k] or width)\n    \t\titem:tag('div')\n    \t\t\t\t:addClass('thumb')\n    \t\t\t\t:css('width', args['width' .. k] or width)\n    \t\t\t\t:css('text-align', args['itemalign'] or 'center')\n    \t\t\t\t:css('margin', '0 auto')\n    \t\t\t\t:wikitext(args[k])\n    \t\tif args[tonumber(k)+1] then\n    \t\t\titem\n    \t\t\t\t:tag('div')\n    \t\t\t\t:addClass('gallerytext')\n    \t\t\t\t:css('width', args['width' .. k] or width)\n    \t\t\t\t:css('text-align', args['captionalign'] or 'center')\n    \t\t\t\t:wikitext(args[tonumber(k)+1])\n    \t\tend\n    \t\titems[i] = tostring(item)\n    \tend\n\tend\n\tlocal root = mw.html.create('ul')\n\t\t:addClass('gallery mw-gallery-nolines nochecker')\n\t\t:cssText(args.style)\n\t\t:wikitext(table.concat(items))\n\t\n\treturn frame:extensionTag{ name = 'gallery' } .. tostring(root)\nend\n\nreturn p"}}}