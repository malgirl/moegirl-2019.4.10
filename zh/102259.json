{"parse":{"title":"MediaWiki:GuidedTour-tour-firstedit.js","pageid":134286,"wikitext":{"*":"// Guided Tour to help users make their first edit.\n// Designed to work on any Wikipedia article, and can work for other sites with minor message changes.\n// 2015\u5e747\u670820\u65e5\u7ecf\u8fc7baskice\u672c\u5730\u5316\u3002\n\n( function ( window, document, $, mw, gt ) {\n\tvar hasEditSection, tour;\n\n\t// Check if there are section edit links (used later)\n\thasEditSection = $( '.mw-editsection' ).length > 0;\n\n\ttour = new gt.TourBuilder( {\n\t\tname: 'myfirstedit',\n\t\t// Specify that we want logging for this tour\n\t\tshouldLog: true\n\t} );\n\n\ttour.firstStep( {\n\t\tname: 'intro',\n\t\ttitle: '\u7f16\u8f91\u6574\u4e2a\u6761\u76ee\u3002\u3002\u3002',\n\t\tdescription: '\u4f60\u597d\uff0c\u6b22\u8fce\u6765\u5230\u840c\u5a18\u767e\u79d1\uff01\u70b9\u51fb\u8fd9\u91cc\u7684\u201c\u7f16\u8f91\u201d\u6309\u94ae\u5c31\u53ef\u4ee5\u7f16\u8f91\u6574\u4e2a\u9875\u9762\u3002',\n\t\tattachTo: '#ca-edit',\n\t\tposition: 'bottom',\n\t\t// This indicates that we don't want an automatic next button,\n\t\t// even though we are specifying which step comes next.\n\t\tallowAutomaticNext: false,\n\t\tbuttons: [ {\n\t\t\t// Custom logic to specify a button and its behavior\n\t\t\t// depending on whether there are sections on the page.\n\t\t\taction: hasEditSection ? 'next' : 'okay',\n\t\t\tonclick: function () {\n\t\t\t\tif ( hasEditSection ) {\n\t\t\t\t\tmw.libs.guiders.next();\n\t\t\t\t} else {\n\t\t\t\t\tmw.libs.guiders.hideAll();\n\t\t\t\t}\n\t\t\t}\n\t\t} ]\n\t} )\n\t// At certain times, called transition points, the callback passed to .transition\n\t// will be called.  At those times, this tour checks if the user is editing.  If so,\n\t// the tour returns 'preview', indicating that the tour should transition to the\n\t// 'preview' step automatically.\n\t.transition( function () {\n\t\tif ( gt.isEditing() ) {\n\t\t\treturn 'preview';\n\t\t}\n\t} )\n\t.next( 'editSection' );\n\n\ttour.step( {\n\t\tname: 'editSection',\n\t\ttitle: '\u6216\u8005\u7f16\u8f91\u4e00\u4e2a\u6bb5\u843d',\n\t\tdescription: '\u6761\u76ee\u4e2d\u6bcf\u4e2a\u6bb5\u843d\u6807\u9898\u65c1\u90fd\u6709[\u7f16\u8f91]\u6309\u94ae\uff0c\u9002\u5408\u66f4\u6539\u9519\u522b\u5b57\u8fd9\u6837\u7684\u5c0f\u578b\u4fee\u6539\u3002\u6709\u5f88\u591a\u4eba\u90fd\u5728\u5199\u540c\u4e00\u4e2a\u9875\u9762\u7684\u65f6\u5019\uff0c\u4f7f\u7528\u6bb5\u843d\u7f16\u8f91\u6765\u907f\u514d\u51b2\u7a81\u3002',\n\t\tposition: 'right',\n\t\tattachTo: '.mw-editsection',\n\t\t// Automatically scroll to this step\n\t\tautoFocus: true,\n\t\t// Custom width, in pixels\n\t\twidth: 300\n\t} )\n\t.transition( function () {\n\t\tif ( gt.isEditing() ) {\n\t\t\treturn 'preview';\n\t\t} else if ( !hasEditSection ) {\n\t\t\t// Returning HIDE means that the tour should be hidden, but not ended.\n\t\t\treturn gt.TransitionAction.HIDE;\n\t\t}\n\t} )\n\t.back( 'intro' );\n\n\ttour.step( {\n\t\tname: 'preview',\n\t\ttitle: '\u9884\u89c8\u4f60\u7684\u7f16\u8f91\u7ed3\u679c',\n\t\tdescription: '\u70b9\u51fb \u663e\u793a\u9884\u89c8 \u6309\u94ae\uff0c\u68c0\u67e5\u4fee\u6539\u540e\u7684\u9875\u9762\u3002\uff08\u53ef\u522b\u5fd8\u4e86\u4fdd\u5b58\u54df\uff01\uff09',\n\t\tattachTo: '#wpPreview',\n\t\tautoFocus: true,\n\t\tposition: 'top',\n\t\t// This specifies that, unlike the default, the guider should not close when the user clicks outside of it.\n\t\tcloseOnClickOutside: false\n\t} )\n\t.transition( function () {\n\t\t// isReviewing checks whether the user is either previewing or showing changes.\n\t\tif ( gt.isReviewing() ) {\n\t\t\treturn 'save';\n\t\t} else if ( !gt.isEditing() ) {\n\t\t\t// When the user is on this step, but neither editing nor reviewing, this tour automatically ends.\n\t\t\treturn gt.TransitionAction.END;\n\t\t}\n\t} )\n\t.next( 'save' );\n\n\ttour.step( {\n\t\tname: 'save',\n\t\ttitle: '\u5c31\u5dee\u4e00\u6b65\u4e86\uff01',\n\t\tdescription: '\u5f53\u4f60\u5b8c\u6210\u4fee\u6539\uff0c\u70b9\u51fb\u201c\u4fdd\u5b58\u9875\u9762\u201d\u6309\u94ae\u5c31\u63d0\u4ea4\u5566~\uff01\u4f60\u7684\u7f16\u8f91\u7ed3\u679c\u4f1a\u7acb\u523b\u751f\u6548~\uff08\u4fdd\u9669\u8d77\u89c1\uff0c\u4e3a\u4e86\u907f\u514d\u7f51\u7edc\u62bd\u98ce\u7b49\u95ee\u9898\uff0c\u5927\u578b\u7684\u7f16\u8f91\u4fee\u6539\uff0c\u6700\u597d\u5728\u672c\u5730\u4e5f\u4fdd\u5b58\u4e00\u4efd\u8349\u7a3f~\uff09',\n\t\tattachTo: '#wpSave',\n\t\tautoFocus: true,\n\t\tposition: 'top',\n\t\tcloseOnClickOutside: false\n\t} )\n\t.transition( function () {\n\t\tif ( !gt.isReviewing() ) {\n\t\t\treturn gt.TransitionAction.END;\n\t\t}\n\t} )\n\t.back( 'preview' );\n\n} ( window, document, jQuery, mediaWiki, mediaWiki.guidedTour ) );"}}}