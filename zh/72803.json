{"parse":{"title":"User:Myx 2012/vector.js","pageid":97370,"wikitext":{"*":"( function( $, undefined ) {\n\nfunction showTime( $target ) { var dateNode = UTCLiveClockConfig.node; if( !dateNode ) { return; } var now = new Date(); var hh = now.getUTCHours(); var mm = now.getUTCMinutes(); var ss = now.getUTCSeconds(); if ( typeof $target === 'undefined' ) { $target = $( dateNode ).find( 'a:first' ); } $target.text( '\u5f3a\u5236\u5237\u65b0\u9875\u9762' );\n\nsetTimeout( function(){ showTime( $target ); }, 73 ); }\n\nfunction liveClock() {\n\nif ( typeof( UTCLiveClockConfig ) === 'undefined' ) { window.UTCLiveClockConfig = {}; } var portletId = UTCLiveClockConfig.portletId || 'p-personal'; var nextNode = UTCLiveClockConfig.nextNodeId ? document.getElementById( UTCLiveClockConfig.nextNodeId ) : undefined; UTCLiveClockConfig.node = addPortletLink( portletId, wgScript + '?title=' + encodeURIComponent( wgPageName ) + '&action=purge', '', 'purge', undefined, undefined, nextNode ); if( !UTCLiveClockConfig.node ) { return; }\n\nshowTime(); } $( document ).ready( liveClock );\n\n} )( jQuery ); /* * Author:+Eridanus Sora * Work for hitokoto showing */function hitokoto(){ var self = this; this.API = 'http://api.hitokoto.us/rand?encode=jsc&charset=utf-8'; this.Interval = 5000; this.loadScript = function(){ $(\"head\").append('<script id=\"hitokoto_loader\" src=\"' + self.API + '\" />'); } this.setIntervalEvent = function(Event,Interval){ setInterval(Event,Interval); } this.displayHitokoto = function(Hitokoto){ console.log(\"You get a new Hitokoto:\" + Hitokoto.hitokoto); var author = Hitokoto.author; var cat = Hitokoto.cat; var catname = Hitokoto.catname; var date = Hitokoto.date; var id = Hitokoto.id; var source = Hitokoto.source; var content = Hitokoto.hitokoto; var like = Hitokoto.like; var desc = \"\u300c\" + content + \"\u300d Author : \" + author + \" @ \" + date + \" Category : \" + catname; $(\"#hitokoto\").children().fadeOut('slow',function(){ $(\"#hitokoto\").html($(\"<span></span>\").attr(\"title\",desc)); $(\"#hitokoto span\").append($(\"<a>\" + content + \"</a>\").attr({\"href\":\"http://hitokoto.us/view/\" + id,\"target\":\"_blank\"}).css(\"display\",\"none\").animate({ opacity: 1}, 0, function() { $(this).fadeIn('slow'); }).after($('<a id=\"toHitokoto\" title=\"\u4e00\u8a00\uff08\u30d2\u30c8\u30b3\u30c8\uff09\">\u4e00\u8a00</a>').attr({'href':'http://hitokoto.us/','target':'_blank'}).css('display','none').animate({ opacity: 1}, 0, function() { $(this).fadeIn('slow'); }).before($('<span id=\"spliter\" title=\"\"> \u2014\u2014 </span>').css('display','none').animate({ opacity: 1}, 0, function() { $(this).fadeIn('slow'); })))); $(\"head\").find('#hitokoto_loader').remove(); }); } this.init = function(){ window.hitokoto = this.displayHitokoto; this.loadScript(); this.setIntervalEvent(this.loadScript,this.Interval); } } $(document).ready(function(){ $(\"#siteSub\").after('<div id=\"hitokoto\"><span></span></div>'); H = new hitokoto(); H.init(); })"}}}