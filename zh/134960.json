{"parse":{"title":"\u6a21\u5757:Hash","pageid":309130,"wikitext":{"*":"local p = {}\n\nlocal getArgs = require('Module:Arguments').getArgs\n\np.main = function(frame)\n\tlocal args = getArgs(frame)\n\tlocal str = args[1]\n\tlocal algo = args[2]\n\tlocal algoList = mw.hash.listAlgorithms()\n\tif algo then\n\t\tlocal isInvalid = true\n\t\tfor i, v in ipairs(algoList) do\n\t\t\tif algo == v then \n\t\t\t\tisInvalid = false\n\t\t\t\tbreak\n\t\t\tend\n\t\tend\n\t\tif isInvalid then\n\t\t\terror('\u6240\u9009\u7684hash\u7b97\u6cd5\u4e0d\u53ef\u7528\u6216\u65e0\u6548\uff0c\u6240\u6709\u53ef\u7528\u7684\u7b97\u6cd5\uff1a'..table.concat(algoList, '\u3001'))\t\t\n\t\telse\n\t\t\treturn mw.hash.hashValue(algo, str)\n\t\tend\n\telse\n\t\treturn mw.hash.hashValue('md5', str)\t\t\n\tend\nend\n\nreturn p"}}}