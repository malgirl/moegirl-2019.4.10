{"parse":{"title":"User:AnnAngela/js/watchlist-toggle.js","pageid":115537,"wikitext":{"*":"(function(mw) {\n    mw.loader.implement('AnnToolsWatchlistToggle', function($, jQuery) {\n        if (!$('.mw-special-Watchlist')[0]) return false;\n        var ClickToHide, ClickToHideButton;\n        if ($('.mw-enhanced-rc')[0]) $('.mw-changeslist > div > .mw-enhanced-rc').each(function() {\n            if ($(this).find('.mw-title a').first().text().indexOf('alk:') == -1) $(this).addClass('mw-changeslist-non-talk-page');\n        });\n        else $('.mw-changeslist > ul > li').each(function() {\n            if ($(this).find('.mw-title a').text().indexOf('alk:') == -1) $(this).addClass('mw-changeslist-non-talk-page');\n        });\n        if (mw.config.get('wgUserLanguage').indexOf('zh') != -1) ClickToHide = \"\u70b9\u6b64\u9690\u85cf/\u663e\u793a\u975e\u8ba8\u8bba\u9875\u66f4\u6539\uff1a\", ClickToHideButton = ['\u9690\u85cf', '\u663e\u793a'];\n        else ClickToHide = \"Click this button to hide/show the non-talk page's change:\", ClickToHideButton = ['Hide', 'Show'];\n        ClickToHide += '<input id=\"ToggleNonTalkPageChange\">';\n        $('#mw-watchlist-options').append('<p>' + ClickToHide + '</p>');\n        $('#ToggleNonTalkPageChange').attr('type', 'button').css('margin', '0 0.5em').val(ClickToHideButton[0]).on('click', function() {\n            if (!$('.mw-changeslist-non-talk-page').not(':hidden')[0]) {\n                $('.mw-changeslist-non-talk-page').fadeIn();\n                $(this).val(ClickToHideButton[0]);\n            } else {\n                $('.mw-changeslist-non-talk-page').fadeOut();\n                $(this).val(ClickToHideButton[1]);\n            }\n        });\n        if (!$('.mw-changeslist:last .mw-changeslist-line-watched')[0]) return;\n        $('#mw-watchlist-options').append('<p>\u70b9\u6b64\u9690\u85cf/\u663e\u793a\u5df2\u8bbf\u95ee\u9875\u9762\uff1a<input id=\"ToggleWatchedPageChange\"></p>');\n        $(\"#ToggleWatchedPageChange\").attr('type', 'button').css('margin', '0 0.5em').val('\u9690\u85cf').on('click', function() {\n            if ($('.mw-changeslist:last .mw-changeslist-non-talk-page').first().is(':hidden')) {\n                $('.mw-changeslist:last .mw-changeslist-non-talk-page').fadeIn();\n                $(this).val('\u9690\u85cf');\n            } else {\n                $('.mw-changeslist:last .mw-changeslist-non-talk-page').fadeOut();\n                $(this).val('\u663e\u793a');\n            }\n        });\n    });\n})(mediaWiki);"}}}