{"parse":{"title":"MediaWiki:Gadget-UserLinkAvatarMagnifier.js","pageid":145279,"wikitext":{"*":"// <pre>\nmw.config.set('user-avatar-magnifier', function fun() {\n    $('.userlink-avatar:not(.magnifier)').each(function() {\n        var item = $(this);\n        item.addClass(\"magnifier\");\n        var username = item.closest('a').text();\n        var img = $('<img/>', {\n            attr: {\n                src: item.find('.userlink-avatar-small').attr('src')\n            },\n            on: {\n                error: function() {\n                    window.setTimeout(function() {\n                        img.closest('.userlink-avatar-large').remove();\n                    }, 0);\n                }\n            }\n        });\n        item.on('click', function() {\n            window.open('//commons.moegirl.org/index.php?title=Special%3A\u67e5\u770b\u5934\u50cf&user=' + username, '_blank');\n            return false;\n        }).append($('<div/>', {\n            attr: {\n                class: 'userlink-avatar-large'\n            }\n        }).prepend(img)).addClass('userlink-avatar-hover');\n        item.closest('a').before(item);\n        item.add(item.children()).attr('title', '\u67e5\u770b\u7528\u6237' + username + '\u7684\u5934\u50cf');\n    });\n});\n// </pre>"}}}