{"parse":{"title":"Template:Array","pageid":263834,"wikitext":{"*":"<includeonly>{{#switch:{{{1|}}}\n|#default= {{#if:{{{name|{{{id|}}}}}}||<big><big>{{color|#ba0000|'''\u6784\u9020\u53d8\u91cf\u7ec4\u65f6\u201cname\u201d\u4e0d\u80fd\u4e3a\u7a7a\uff01'''}}</big></big>}}<!--\n-->{{#vardefine:@array-innerArrayIdentifier:{{{name|{{{id|}}}}}}|@array-innerArrayIdentifier:{{{name|{{{id|}}}}}}}}<!--\n-->{{#vardefine:@array-innerArrayIdentifier:{{{name|{{{id|}}}}}}.count|0}}<!--\n-->{{#fornumargs: num | value\n|{{#vardefine:@array-innerArrayIdentifier:{{{name|{{{id|}}}}}}{{#var:num}}|{{#var:value}}}}<!--\n-->{{#vardefine:@array-innerArrayIdentifier:{{{name|{{{id|}}}}}}.count|{{#var:num}}}}<!--\n-->}}{{#ifeq:{{{r|{{#var:array.indexMode}}}}}|true|@array-innerArrayIdentifier:{{{name|{{{id|}}}}}}}}<!--\n-->{{#vardefine:array.savedNameUseForArrayId|{{{name|{{{id|}}}}}}}}\n\n|warn= {{#vardefine:array.visibleWarning|true}}\n|indexMode= {{#vardefine:array.indexMode|{{#ifeq:{{{2|}}}|close||true}}}}\n\n|new= {{#if:{{{name|{{{id|}}}}}}||<big><big>{{color|#ba0000|'''\u6784\u9020\u53d8\u91cf\u7ec4\u65f6\u201cname\u201d\u4e0d\u80fd\u4e3a\u7a7a\uff01'''}}</big></big>}}<!--\n-->{{#vardefine:@array-innerArrayIdentifier:{{{name|{{{id|}}}}}}|@array-innerArrayIdentifier:{{{name|{{{id|}}}}}}}}<!--\n-->{{#vardefine:@array-innerArrayIdentifier:{{{name|{{{id|}}}}}}.count|0}}<!--\n-->{{#fornumargs: num | value\n|{{#ifeq:{{#var:num}}|1||<!--\n-->{{#vardefine:num|{{#expr:{{#var:num}} - 1}}}}<!--\n-->{{#vardefine:@array-innerArrayIdentifier:{{{name|{{{id|}}}}}}{{#var:num}}|{{#var:value}}}}<!--\n-->{{#vardefine:@array-innerArrayIdentifier:{{{name|{{{id|}}}}}}.count|{{#var:num}}}}}}<!--\n-->}}{{#ifeq:{{{r|{{#var:array.indexMode}}}}}|true|@array-innerArrayIdentifier:{{{name|{{{id|}}}}}}}}<!--\n-->{{#vardefine:array.savedNameUseForArrayId|{{{name|{{{id|}}}}}}}}\n\n|in= {{#vardefineecho:array.innerArrayIdentifier|@array-innerArrayIdentifier:{{#var:array.savedNameUseForArrayId|{{random|init}}}}{{random|init}}}}<!--\n-->{{#vardefine:{{#var:array.innerArrayIdentifier}}|{{#var:array.innerArrayIdentifier}}}}<!--\n-->{{#vardefine:{{#var:array.innerArrayIdentifier}}.count|0}}<!--\n-->{{#fornumargs: num | value\n|{{#ifeq:{{#var:num}}|1||<!--\n-->{{#vardefine:num|{{#expr:{{#var:num}} - 1}}}}<!--\n-->{{#vardefine:{{#var:array.innerArrayIdentifier}}{{#var:num}}|{{#var:value}}}}<!--\n-->{{#vardefine:{{#var:array.innerArrayIdentifier}}.count|{{#var:num}}}}}}<!--\n-->}}\n\n|id= {{#var:array.savedNameUseForArrayId|{{random|init}}}}{{random|init}}\n\n|get= {{#vardefine:array.getInnerArrayNameSave|{{#var:@array-innerArrayIdentifier:{{{2|}}}}}}}{{#fornumargs: num | value\n|{{#ifexpr:{{#var:num}} > 2|<!--\n-->{{#vardefine:array.getInnerArrayNameSave|{{#var:{{#var:array.getInnerArrayNameSave}}{{replace|{{#var:value}}|^count$|.count}}}}}}<!--\n-->}}<!--\n-->}}{{replace|{{#var:array.getInnerArrayNameSave}}|^@array%-innerArrayIdentifier:.+}}<!--\n-->{{#if:{{#var:array.visibleWarning}}|{{str_test|str={{#var:array.getInnerArrayNameSave}}|ptn=^@array%-innerArrayIdentifier:.+|then=<big><big>{{color|#ba0000|'''\u4e0d\u80fd\u83b7\u53d6\u53d8\u91cf\u7ec4\u672c\u8eab\u7684\u503c\uff01'''}}</big></big>}}}}\n\n\n|set= {{#fornumargs: num | value |{{#vardefine:array.paramCount|{{#var:num}}}}}}<!--\n-->{{#ifeq:{{#var:array.paramCount}}|2\n|{{#if:{{#var:array.visibleWarning}}\n|{{str_test|str={{#var:{{{2|}}}}}|ptn=^@array%-innerArrayIdentifier:.+|then=<big><big>{{color|#ba0000|'''\u4e0d\u80fd\u5bf9\u53d8\u91cf\u7ec4\u672c\u8eab\u8fdb\u884c\u8d4b\u503c\uff01'''}}</big></big>|else={{#vardefine:{{{2|}}}|{{{val|}}}}}}}\n|{{#vardefine:{{{2|}}}|{{{val|}}}}}\n}}\n\n|{{#vardefine:array.getInnerArrayNameSave|{{#var:{{{2|}}}}}}}{{#fornumargs: num | value\n|{{#ifexpr:{{#var:num}} > 2|<!--\n-->{{#ifeq:{{#var:num}}|{{#var:array.paramCount}}\n|{{#if:{{#var:array.visibleWarning}}\n|{{str_test|str={{#var:{{#var:array.getInnerArrayNameSave}}{{#var:value}}}}|ptn=^@array%-innerArrayIdentifier:.+|then=<big><big>{{color|#ba0000|'''\u4e0d\u80fd\u5bf9\u53d8\u91cf\u7ec4\u672c\u8eab\u8fdb\u884c\u8d4b\u503c\uff01'''}}</big></big>|else={{#vardefine:{{#var:array.getInnerArrayNameSave}}{{#var:value}}|{{{val|}}}}}}}\n|{{#vardefine:{{#var:array.getInnerArrayNameSave}}{{#var:value}}|{{{val|}}}}}\n}}\n|{{#vardefine:array.getInnerArrayNameSave|{{#var:{{#var:array.getInnerArrayNameSave}}{{#var:value}}}}}}\n}}}}}}\n}}\n\n|getIndex= {{#if:{{#var:array.visibleWarning}}\n|{{str_test|str={{#invoke:var-array/sub|getArrayIndex}}|ptn=^@array%-innerArrayIdentifier:.+\n  |then= {{#invoke:var-array/sub|getArrayIndex}}\n  |else= <big><big>{{color|#ba0000|'''\u83b7\u53d6\u5230\u7684\u503c\u4e0d\u662f\u53d8\u91cf\u7ec4\u7d22\u5f15\uff0c\u8bf7\u68c0\u67e5\u7d22\u5f15\u7684\u5b9a\u4f4d\u662f\u5426\u6b63\u786e\uff01'''}}</big></big>\n }}\n|{{#invoke:var-array/sub|getArrayIndex}}\n}}\n\n\n|push|pop|unshift|shift|print= {{#if:{{#var:array.visibleWarning}}\n|{{str_test|str={{#invoke:var-array/sub|getArrayIndex}}|ptn=^@array%-innerArrayIdentifier:.+\n  |then= {{#invoke:var-array/sub|action|method={{{1|}}}}}\n  |else= <big><big>{{color|#ba0000|'''\u83b7\u53d6\u5230\u7684\u4e0d\u662f\u4e00\u4e2a\u53d8\u91cf\u7ec4\uff0c\u8bf7\u68c0\u67e5\u7d22\u5f15\u7684\u5b9a\u4f4d\u662f\u5426\u6b63\u786e\uff01'''}}</big></big>\n }}\n|{{#invoke:var-array/sub|action|method={{{1|}}}}}\n}}\n\n\n\n|pushSome= {{#fornumargs: num | value\n|{{#ifeq:{{#var:num}}|1||<!--\n-->{{#vardefine:num|{{#expr:{{#var:num}} - 1}}}}<!--\n-->{{#vardefine:{{{name|{{{id|}}}}}}.count|{{#expr:{{#var:{{{name|{{{id|}}}}}}.count}} + 1}}}}<!--\n-->{{#vardefine:{{{name|{{{id|}}}}}}{{#var:{{{name|{{{id|}}}}}}.count}}|{{#var:value}}}}\n}}\n}}{{#ifeq:{{{r|}}}|true|{{#var:{{{name|{{{id|}}}}}}.count}}}}\n\n|unshiftSome= {{#fornumargs: num | value |{{#vardefine:count|{{#expr:{{#var:num}} - 1}}}}}}<!--\n-->{{#invoke:loop|main|time={{#var:{{{name|{{{id|}}}}}}.count}}|1|do=<nowiki>\n{{#vardefine:{{{name|{{{id|}}}}}}{{#expr:{{#var:time}} + {{#var:count}}}}|{{#var:{{{name}}}{{#var:time}}}}}}\n</nowiki>}}<!--\n-->{{#fornumargs: num | value\n|{{#ifeq:{{#var:num}}|1||<!--\n-->{{#vardefine:num|{{#expr:{{#var:num}} - 1}}}}<!--\n-->{{#vardefine:{{{name|{{{id|}}}}}}{{#var:num}}|{{#var:value}}}}<!--\n-->}}\n}}{{#vardefine:{{{name|{{{id|}}}}}}.count|{{#expr:{{#var:{{{name|{{{id|}}}}}}.count}} + {{#var:count}}}}}}<!--\n-->{{#ifeq:{{{r|}}}|true|{{#var:{{{name|{{{id|}}}}}}.count}}}}\n\n\n}}<!--\n--></includeonly><noinclude>{{doc}}</noinclude>"}}}