{"parse":{"title":"Widget:Heading","pageid":204891,"wikitext":{"*":"<noinclude> </noinclude><includeonly><!--{if !isset($wgHeading) || !$wgHeading}--><!--{assign var=\"wgHeading\" value=true scope=\"global\"}--><div id=\"heading\"></div><script>\nwindow.RLQ = window.RLQ || [];\nwindow.RLQ.push(function() {\n    $(function() {\n        var heading = $(\".heading\");\n        if (!heading[0]) return $(\"#heading\").remove();\n        $(\"#heading\").addClass(\"toc\").append('<div class=\"toctitle\"><h2>\u76ee\u5f55</h2><span class=\"toctoggle\"> [<a href=\"javascript:void(0);\">\u9690\u85cf</a>] </span></div>').append($(\"<ol/>\", {\n            id: \"toccontent\"\n        }));\n        $(heading.map(function(index, element) {\n            var title = $(element).html().split(/<[^>]*>|\uff08|\uff09/)[0].trim(),\n                li = $(\"<li/>\");\n            $(\"<a/>\", {\n                href: \"javascript:void(0);\"\n            }).append($(\"<span/>\", {\n                text: title\n            })).on(\"click\", function() {\n                $(\"html, body\").animate({\n                    scrollTop: $(element).offset().top + 1\n                }, 370);\n            }).appendTo(li);\n            return li[0];\n        })).appendTo(\"#toccontent\");\n        $(\".toctoggle a\").on(\"click\", function() {\n            if ($(\"#toccontent\").is(\":hidden\")) {\n                $(\"#toccontent\").slideDown(370);\n                $(this).text(\"\u9690\u85cf\");\n            } else {\n                $(\"#toccontent\").slideUp(370);\n                $(this).text(\"\u663e\u793a\");\n            }\n            return false;\n        });\n    });\n});\n</script><style>\n#toccontent {\n    margin-left: 1.3em;\n}</style><!--{/if}--></includeonly>"}}}