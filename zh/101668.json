{"parse":{"title":"\u840c\u5a18\u767e\u79d1:MediaWiki 1.26","pageid":134212,"wikitext":{"*":"{{smallNav|l=[[\u840c\u5a18\u767e\u79d1:MediaWiki 1.25]]}}{{-}}\n{{info|\u672c\u9875\u5f15\u81ea https://www.mediawiki.org/wiki/MediaWiki_1.26 \uff0c\u4f7f\u7528CC BY-SA 3.0\u534f\u8bae\u6388\u6743\u3002<br>\u76ee\u524d\u672c\u9875\u5bf9\u5e94\u7684\u539f\u6587\u5386\u53f2\u662f''' 2015\u5e7411\u670825\u65e5 (\u4e09) 21:54 \uff089,896\u5b57\u8282\uff09 '''\u7248\u672c\uff0c\u8bf7\u6ce8\u610f\u66f4\u65b0\u6b63\u6587\u5185\u5bb9\u53ca\u672c\u65f6\u95f4\u6233\u3002}}\n\n\n'''MediaWiki 1.26'''\u662f\u5f53\u524dMediaWiki\u7684\u7a33\u5b9a\u7248\u672c\u3002\n\u8bf7\u53c2\u89c1[https://phabricator.wikimedia.org/diffusion/MW/browse/REL1_26/RELEASE-NOTES-1.26 RELEASE-NOTES-1.26],\u6587\u4ef6\u5b8c\u6574\u7684\u66f4\u6539\u5217\u8868\u3002\nIt was deployed on  through incremental \"1.26/wmf''NN''\" branches s5.\n\n1.26.0\u7684\u7a33\u5b9a\u7248\u5df2\u4e8e2015\u5e7411\u670825\u65e5\uff08\u661f\u671f\u4e09\uff09\u53d1\u5e03\u3002\n\n\u4e0b\u8f7d[https://tools.wmflabs.org/snapshots/#!/mediawiki-core/REL1_26 \u6700\u65b0\u5feb\u7167]\u6216\u8005\u67e5\u770b<code>[https://git.wikimedia.org/log/mediawiki%2Fcore.git/REL1_26/ REL1_26]</code>\u5206\u652f\u4e0b[https://www.mediawiki.org/wiki/Download_from_Git in Git]\u4ee5\u5173\u6ce8\u6700\u65b0\u7684\u53d1\u5e03\u3002\n\n== \u65b0\u7279\u6027 == \n\n\n=== \u6027\u80fd ===\n\n* ResourceLoader \u73b0\u5728\u4ee5\u5f02\u6b65\u65b9\u5f0f\u52a0\u8f7d\u6240\u6709\u811a\u672c\u3002\u9876\u90e8\u961f\u5217\u548c\u542f\u52a8\u6a21\u5757\u4e0d\u518d\u963b\u585e\u540c\u6b65\u52a0\u8f7d\u3002\n* ResourceLoader \u4ee3\u7801\u538b\u7f29\u73b0\u5728\u7f13\u5b58\u5728APC\u5185\u5b58\u4e2d\uff08\u5982\u679c\u53ef\u7528\uff09\uff0c\u800c\u4e0d\u662f\u7f13\u5b58\u5728\u6570\u636e\u5e93\u4e2d\u3002\n* \u9700\u8981\u80fd\u88ab\u6e05\u9664\u7684\u7f13\u5b58\u73b0\u5728\u4f7f\u7528 <code>WANObjectCache</code> \u63a5\u53e3\u3002\u8fd9\u5bf9\u5e94\u65b0\u7684 <code>$wgMainWANCache</code> \u8bbe\u7f6e\uff0c\u5176\u9ed8\u8ba4\u4f7f\u7528 <code>$wgMainCacheType</code> \u7684\u8bbe\u7f6e\u3002\n* \u9700\u8981\u5feb\u901f\u8f7b\u91cf\u6570\u636e\u5b58\u50a8\u7684\u8c03\u7528\u8005\u4f7f\u7528 <code>$wgMainStash</code> \u6765\u4ece <code>$wgObjectCaches</code> \u9009\u62e9\u5b58\u50a8\u7684\u7c7b\u578b\u3002\u9ed8\u8ba4\u662f\u672c\u5730\u6570\u636e\u5e93\u3002\n* MediaWiki \u547d\u540d\u7a7a\u95f4\u4e2d\u7684\u7528\u6237\u754c\u9762\u6d88\u606f\u91cd\u8f7d\u73b0\u5728\u5c06\u4f1a\u88ab\u5728 memcached \u6216\u8005 APC \u4e2d\u7f13\u5b58\uff08\u5982\u679c\u53ef\u7528\uff09\uff0c\u800c\u4e0d\u662f memcached \u548c\u672c\u5730\u6587\u4ef6\u4e2d\u3002\n* <code>$wgTransactionalTimeLimit</code> \u88ab\u52a0\u5165\uff0c\u5176\u63a7\u5236\u9700\u8981\u5c3d\u53ef\u80fd\u88ab\u539f\u5b50\u5316\u7684\u6f5c\u5728\u6162\u901f\u7684POST\u8bf7\u6c42\u7684\u8bf7\u6c42\u65f6\u95f4\u7684\u9650\u5236\u3002\n\n=== \u65b0\u7684\u94a9\u5b50 ===\n\n* \u6dfb\u52a0\u4e86\u4e00\u4e2a\u65b0\u94a9\u5b50 '<code>LogException</code>' \u4ee5\u7528\u6765\u4ee5\u975e\u6807\u51c6\u7684\u65b9\u5f0f\u8bb0\u5f55\u65e5\u5fd7\u3002\n* \u91cd\u65b0\u52a0\u5165 '<code>SpecialSearchResultsAppend</code>' \u94a9\u5b50\uff0c\u5b83\u4f1a\u5728\u641c\u7d22\u7ed3\u679c\u5217\u8868\u88ab\u6e32\u67d3\u4e4b\u540e\u53d1\u751f\u3002\u6700\u521d\u7684\u7528\u9014\u662f\u7528\u6765\u5728\u641c\u7d22\u7ed3\u679c\u7684\u6700\u672b\u5c3e\u6dfb\u52a0\u201c\u7ed9\u6211\u4eec\u53cd\u9988\u201d\u7684\u94fe\u63a5\u3002\n* \u6dfb\u52a0\u4e86\u4e00\u4e2a\u65b0\u94a9\u5b50 '<code>RejectParserCacheValue</code>' \u4ee5\u5141\u8bb8\u6269\u5c55\u4e00\u4e2a\u672c\u5e94\u6210\u529f\u7684\u89e3\u6790\u7f13\u5b58\u67e5\u627e\u3002\u5176\u672c\u610f\u662f\u5141\u8bb8\u9614\u624e\u6309\u7ba1\u7406\u662f\u5426\u4ece\u7f13\u5b58\u4e2d\u53bb\u9664\u8001\u65e7\u7684HTML\u8f93\u51fa\u3002\n* \u6dfb\u52a0\u4e86\u4e00\u4e2a\u65b0\u94a9\u5b50 '<code>EnhancedChangesListModifyLineData</code>' \u548c '<code>EnhancedChangesListModifyBlockLineData</code>' \u4ee5\u4fee\u6539\u7528\u6765\u5728\u589e\u5f3a\u7248\u6700\u8fd1\u66f4\u6539\u548c\u76d1\u89c6\u5217\u8868\u4e2d\u6784\u5efa\u884c\u7684\u6570\u636e\u3002\n* \u6dfb\u52a0\u4e86\u4e00\u4e2a\u65b0\u94a9\u5b50 '<code>RandomPageQuery</code>' \u4ee5\u5141\u8bb8\u4fee\u6539 \u7279\u6b8a:\u968f\u673a\u9875\u9762 \u9009\u62e9\u968f\u673a\u9875\u9762\u7684\u65b9\u6cd5\u3002\n\n=== Information on 'actual' watchers of a page === \n\n\nIt's [[gerrit:193838|now possible]] to use the info action (accessible from the sidebar) to get a count of \"actual watchers\" of a page, in addition to the already-available count of all the users having it in their [[Special:MyLanguage/Help:Watchlist|watchlist]] ([<tvar|info>{{fullurl:Project:Support_Desk|action=info}}</> example]).\n\n\nThis information will make collaboration easier on your wiki, for instance by giving feedback to editors on how much their recent edits to a page were noticed by active users, or by setting reasonable expectations on how much a message on a certain talk page may be seen.\n\n\n=== Other ===\n\n* Change tags can now be hidden in the interface by disabling the associated \"<code>tag-<id></code>\" interface message.\n* The ':' (colon) character is now invalid in usernames for new accounts. Existing accounts are not affected.\n* The expiration of the UserID and Token login cookies (<code>$wgExtendedLoginCookieExpiration</code>) can be configured independently of the expiration of all other cookies (<code>$wgCookieExpiration</code>). [https://phabricator.wikimedia.org/T68699]\n* Support for generating JPEG/PNG thumbnails from WebP images added if ImageMagick is used as image scaler (<code>$wgUseImageMagick = true</code>). Uploading of WebP images still disabled by default. Add <code>$wgFileExtensions[] = 'webp';</code> to LocalSettings.php to enable uploading of WebP images. [https://phabricator.wikimedia.org/T50519]\n\n\n\n== Upgrade notices for MediaWiki administrators == \n\n[[File:SyntaxHighlighting with Pygments.png|thumb|Syntax highlighting with the new Pygments library]]\n\n=== \u91cd\u5927\u66f4\u6539 ===\n\n* \u5f03\u7528\u7684API <code>dump</code> \u548c <code>wddx</code> \u73b0\u5728\u5df2\u88ab\u5b8c\u5168\u79fb\u9664\u3002\n* <code>$wgResourceLoaderUseESI</code> \u5df2\u7ecf\u88ab\u5f03\u7528\u4e14\u79fb\u9664\u3002 \u8fd9\u4ee5\u524d\u662f\u4e00\u4e2a\u5b9e\u9a8c\u6027\u7279\u5f81\u5e76\u4e14\u4ece\u6765\u6ca1\u6709\u88ab\u9ed8\u8ba4\u5f00\u542f\u8fc7\u3002\n* <code>$wgResourceLoaderExperimentalAsyncLoading</code> \u5df2\u7ecf\u88ab\u5f03\u7528\u4e14\u79fb\u9664\u3002 \u8fd9\u4e2a\u5b9e\u9a8c\u6027\u7279\u5f81\u4ece\u6765\u6ca1\u6709\u88ab\u9ed8\u8ba4\u542f\u7528\uff0c\u5728MediaWiki1.26\u4e2d\u4ed6\u5df2\u7ecf\u662f\u5b8c\u5168\u65e0\u7528\u7684\u4e86\uff0c\u73b0\u5728 ResourceLoader \u5df2\u7ecf\u662f\u5b8c\u5168\u5f02\u6b65\u7684\u3002\n* <code>$wgMasterWaitTimeout</code> \u5df2\u88ab\u79fb\u9664\uff08\u57281.24\u7248\u672c\u88ab\u5e9f\u5f03\uff09\u3002\n* Fields in <code>ParserOptions</code> are now private. Use the accessors instead.\n* [[Extension:SyntaxHighlight GeSHi]] \u5df2\u7ecf\u88ab\u91cd\u5199\u5e76\u4e14\u4ece\u539f\u7b2c\u4e09\u65b9\u5e93GeSHi\u8f6c\u79fb\u5230\u4e86\u7b2c\u4e09\u65b9\u5e93[http://pygments.org/ Pygments]\u3002 \u5b83\u8981\u6c42\u4f60\u7684\u7cfb\u7edf\u4e2d\u9700\u8981\u5b89\u88c5\u6709Python 2.6+ \u6216\u8005 Python 3.3+\u3002\u53e6\u5916\uff0c\u5982\u679c\u4f60\u4fee\u6539\u4e86CSS\u81ea\u5b9a\u4e49\u89c4\u5219\u7684\u8f93\u51fa\uff0c\u8fd9\u4e9b\u89c4\u5219\u53ef\u80fd\u4f1a\u9700\u8981\u8c03\u6574\u3002\u8be6\u89c1[[ResourceLoader/Migration guide (users)#Font mw-geshi]].\n\n=== ResourceLoader asynchronicity and other JavaScript changes ===\n\nSite scripts, user scripts and gadgets may cease to work in 1.26 unless they are updated. For [[Extension:Gadgets|gadgets]] in particular, [[ResourceLoader]] is no longer opt-in and is instead [[phabricator:T75810|now mandatory]]. See [[ResourceLoader/Migration_guide_(users)#MediaWiki_1.26|this migration guide]] on how to fix.\n\n=== Deprecations ===\n\n* <code>$wgEnableParserCache</code> was deprecated. Set <code>$wgParserCacheType</code> to <code>CACHE_NONE</code> instead if you want to disable the parser cache.\n* Certain [[AuthPlugin]] methods are deprecated in favor of new hooks as part of the upcoming [[Requests for comment/AuthManager|AuthManager]] system:\n** <code>AuthPlugin::initUser()</code> is replaced by <code>LocalUserCreated</code>.\n** <code>AuthPlugin::updateUser()</code> is replaced by <code>UserLoggedIn</code>.\n** <code>AuthPlugin::updateExternalDB()</code> is replaced by the existing <code>UserSaveSettings</code>.\n** <code>AuthPlugin::updateExternalDBGroups()</code> is replaced by <code>UserGroupsChanged</code>.\n** <code>AuthPluginUser::isHidden()</code> is replaced by <code>UserIsHidden</code>.\n** <code>AuthPluginUser::isLocked()</code> is replaced by <code>UserIsLocked</code>.\n* The <code>UserRights</code> hook is deprecated in favor of the new <code>UserGroupsChanged</code> hook.\n* <code>AuthPlugin::initUser()</code> and <code>AuthPlugin::updateUser()</code> should no longer replace the passed <code>User</code> object.\n\n=== \u8bbe\u5b9a\u6539\u52a8\uff08Configuration changes\uff09 ===\n\n* Users installing the Vector skin through composer will need to add <code>wfLoadSkin( 'Vector' );</code> to their LocalSettings.php, it will no longer happen automatically.\n* \u73b0\u5728\uff0c<code>$wgPasswordResetRoutes['email']</code>\u7684\u9ed8\u8ba4\u8bbe\u7f6e\u4e0d\u518d\u662f<code>true</code>.\n* \u73b0\u5728\uff0c\u5728\u975e\u8ba8\u8bba\u540d\u5b57\u7a7a\u95f4\uff08\u8ba8\u8bba\u547d\u540d\u7a7a\u95f4\u4ee5\u5916\u7684\u547d\u540d\u7a7a\u95f4\uff09\u5728\u7f16\u8f91\u5668\u4e0a\u7684\u201c\u7b7e\u540d\u6309\u94ae\u201d\u4f1a\u88ab\u9ed8\u8ba4'''\u9690\u85cf'''\u3002A new configuration variable, {{wg|ExtraSignatureNamespaces}}, controls in which subject (non-talk) namespaces the \"Signature\" button on the edit toolbar will be displayed. [https://phabricator.wikimedia.org/T7645]\n* {{wg|BlockAllowsUTEdit}} is now set to <code>true</code> by default. This allows blocked users to edit their talk pages unless explicitly disabled when they are being blocked. It does not affect existing blocks.\n\n=== API changes ===\n\n* New-style continuation is now the default for API <code>action=continue</code>. Clients may use the '<code>rawcontinue</code>' parameter to receive raw query-continue data, but the new style is encouraged as it's harder to implement incorrectly.\n* The deprecated <code>dump</code> and <code>wddx</code> formats were removed entirely.\n* The formatting of log parameters changed in <code>logevents</code>, <code>recentchanges</code>, and <code>watchlist</code> query modules ([[mailarchive:mediawiki-api-announce/2015-April/000079.html|announcement]])\n* <code>action=import</code> will now give an error if both the <code>rootpage</code> and <code>namespace</code> parameters are passed ([[mailarchive:mediawiki-api-announce/2015-May/000083.html|announcement]])\n* The output of <code>meta=siteinfo</code> while using <code>formatversion=2</code> changed slightly ([[mailarchive:mediawiki-api-announce/2015-June/000091.html|announcement]])\n* The <code>generatexml</code> parameter to <code>action=parse</code>, <code>prop=revisions</code>, and <code>prop=deletedrevisions</code> is now deprecated ([[mailarchive:mediawiki-api-announce/2015-July/000092.html|announcement]])\n* <code>list=random</code> now has higher limits: 500 for normal users, 5000 for bots\n\n=== Schema changes ===\n\n(ToDo)\n\n\n== \u53d1\u884c\u65f6\u95f4\u8868 == \n\n\n1.26\u7248\u672c\u7684\u8ba1\u5212\u53d1\u5e03\u65f6\u95f4\u5982\u4e0b:\n{| class=\"wikitable\"\n! \n\u53d1\u5e03\u7248\u672c\n! \n\u65e5\u671f\n|-\n| 1.26.0 || 2015-11-25\n|-\n| 1.26.1 || \u9884\u8ba12015\u5e7412\u6708\u62162016\u5e741\u6708\n|}\n\n[[\u5206\u7c7b:Wiki]]\n[[\u5206\u7c7b:\u840c\u5a18\u767e\u79d1\u6587\u6863]]"}}}