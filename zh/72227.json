{"parse":{"title":"User:Imbushuo/Theme.js","pageid":223551,"wikitext":{"*":"/* DO NOT USE THIS SCRIPT UNLESS YOU KNOW WHAT YOU ARE DOING. */\n\n(window.RLQ = window.RLQ || []).push(function () {\n\n    /***\n     * Determine the availability of modern theme.\n     */\n    function isEnabled() {\n        if (localStorage && localStorage.getItem('ModernThemeCookie')) {\n            return true;\n        }\n\n        return false;\n    }\n\n    function loadStyleSheet(src) {\n        if (src) {\n            $(\"head\").append($(\"<link rel=\\\"stylesheet\\\" type=\\\"text/css\\\">\").attr(\"href\", src));\n        }\n    }\n\n    $(document).ready(function () {\n        // Enable for main space only\n        if (mw.config.get(\"wgCanonicalNamespace\")) return;\n\n        if (isEnabled()) {\n            // Remove some DOM elements. Core framework will bring some of them back later.\n            $(\"#mw-page-base\").remove();\n            $(\"#mw-head-base\").remove();\n            $(\"#mw-navigation\").remove();\n            $(\"#footer\").remove();\n            $(\"#siteNotice\").remove();\n\n            // Fix-up\n            $(\"body\").css(\"background\", \"#f6f6f6\");\n            // We will introduce core framework later. Reset some properties and do some fix-up then\n            $(\".mw-body\").css(\"margin-left\", \"0\");\n            $(\".mw-body\").css(\"border\", \"none\");\n            $(\".mw-body\").css(\"margin-top\", \"0\");\n\n            // Load core library\n            loadStyleSheet(\"https://ibwordpressimage.s3.amazonaws.com/Snippets/Winstrap/css/winstrap.min.css\");\n            loadStyleSheet(\"https://ibwordpressimage.s3.amazonaws.com/Snippets/Winstrap/css/winstrap-optional.min.css\");\n            mw.loader.load(\"https://ibwordpressimage.s3.amazonaws.com/Snippets/Winstrap/js/vendor/bootstrap.min.js\");\n\n            // Move content container to a boostrap container\n            var bsContainer = document.createElement(\"div\");\n            $(bsContainer).attr(\"id\", \"fxcore-content-host\");\n            $(bsContainer).addClass(\"container\");\n            $(\"#content\").after(bsContainer);\n\n            // Move content\n            $(\"#content\").detach().appendTo(\"#fxcore-content-host\");\n\n            // Fix up\n            $(\"#content\").css(\"background\", \"rgb(246, 246, 246)\");\n\t\t\t$(\".container\").css(\"max-width\",\"unset !important\");\n\n            // Navbar \n            var navBarSrc = `<nav class=\"navbar navbar-default\">\n\t<div class=\"navbar-global theme-default\">\n\t\t<div class=\"container\">\n\t\t\t<div class=\"navbar-header\">\n\t\t\t\t<button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#fx-core-navbar-collapse\">\n\t\t\t\t\t<span class=\"sr-only\">Toggle navigation</span>\n\t\t\t\t\t<i class=\"glyph glyph-hamburger\"></i>\n\t\t\t\t</button>\n\t\t\t\t<a href=\"/Mainpage\" class=\"navbar-brand\">\n                        <img src=\"https://ibwordpressimage.s3.amazonaws.com/Snippets/moegirlpedia.png\" alt=\"Moegirlpedia\" height=\"23\" />\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div class=\"collapse navbar-collapse\" id=\"fx-core-navbar-collapse\">\n\t\t\t\t<ul class=\"nav navbar-nav\">\n\t\t\t\t\t<li class=\"dropdown\">\n\t\t\t\t\t\t<a href=\"/Mainpage\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-expanded=\"false\">Discover <i class=\"glyph glyph-chevron-down-2\"></i></a>\n\t\t\t\t\t\t<ul class=\"dropdown-menu\" role=\"menu\">\n\t\t\t\t\t\t\t<li><a href=\"/Mainpage\">Home</a></li>\n\t\t\t\t\t\t\t<li class=\"divider\"></li>\n\t\t\t\t\t\t\t<li><a href=\"/Special:%E9%9A%8F%E6%9C%BA%E9%A1%B5%E9%9D%A2\">Random page</a></li>\n\t\t\t\t\t\t\t<li><a href=\"/Special:%E6%9C%80%E8%BF%91%E6%9B%B4%E6%94%B9\">Recent changes</a></li>\n\t\t\t\t\t\t\t<li><a href=\"https://commons.moegirl.org/Special:%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6\">Recent images</a></li>\n\t\t\t\t\t\t\t<li class=\"divider\"></li>\n\t\t\t\t\t\t\t<li><a href=\"/Talk:%E8%AE%A8%E8%AE%BA%E7%89%88\">Discussion</a></li>\n\t\t\t\t\t\t\t<li><a href=\"/Talk:%E6%8F%90%E9%97%AE%E6%B1%82%E5%8A%A9%E5%8C%BA\">Get help</a></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"dropdown\">\n\t\t\t\t\t\t<a href=\"/Special:%E9%A1%B5%E9%9D%A2%E5%88%86%E7%B1%BB\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-expanded=\"false\">Category <i class=\"glyph glyph-chevron-down-2\"></i></a>\n\t\t\t\t\t\t<ul class=\"dropdown-menu\" role=\"menu\">\n\t\t\t\t\t\t\t<li><a href=\"/Category:%E8%90%8C%E5%B1%9E%E6%80%A7\">\u840c\u5c5e\u6027</a></li>\n\t\t\t\t\t\t\t<li><a href=\"/Category:%E4%BD%9C%E5%93%81\">\u4f5c\u54c1</a></li>\n\t\t\t\t\t\t\t<li><a href=\"/Category:%E4%BA%BA%E7%89%A9\">\u4eba\u7269</a></li>\n\t\t\t\t\t\t\t<li><a href=\"/Category:%E9%9F%B3%E4%B9%90\">\u97f3\u4e50</a></li>\n\t\t\t\t\t\t\t<li><a href=\"/Category:%E6%96%87%E5%8C%96\">\u6587\u5316</a></li>\n\t\t\t\t\t\t\t<li><a href=\"/Category:%E8%BD%AF%E4%BB%B6\">\u8f6f\u4ef6</a></li>\n\t\t\t\t\t\t\t<li><a href=\"/Category:%E6%B4%BB%E5%8A%A8\">\u6d3b\u52a8</a></li>\n\t\t\t\t\t\t\t<li class=\"divider\"></li>\n\t\t\t\t\t\t\t<li><a href=\"/Category:%E5%8E%9F%E5%88%9B%E6%BC%AB%E7%94%BB\">\u6f2b\u753b</a></li>\n\t\t\t\t\t\t\t<li><a href=\"/Category:%E8%AE%BE%E5%AE%9A\">\u8bbe\u5b9a</a></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<form class=\"navbar-form navbar-right\" role=\"search\" action=\"/index.php\">\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<input name=\"search\" type=\"search\" class=\"form-control\" placeholder=\"Search\">\n\t\t\t\t\t\t<input value=\"Special:\u641c\u7d22\" name=\"title\" type=\"hidden\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<button type=\"submit\" name=\"go\" value=\"Go\" class=\"btn btn-default\"></button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</nav>`;\n            $(\"body\").prepend(navBarSrc);\n        }\n    })\n\n});"}}}