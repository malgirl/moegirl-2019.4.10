{"parse":{"title":"User:Iris.L/Sandbox","pageid":228175,"wikitext":{"*":"<includeonly>\n<div class=\"nomobile\">\n{{#tag:graph|{\n  \"width\": 800,\n  \"height\": 500,\n  \"padding\": {\"top\": 10, \"left\": 10, \"bottom\": 30, \"right\": 15},\n\n  \"data\": \n  [\n    {\n      \"name\": \"table\",\n      \"values\": [ {{{\u6570\u636e}}} ]\n    },\n    {\n      \"name\": \"curLv\",\n      \"source\": \"table\",\n      \"transform\": \n      [\n        {\n          \"type\": \"filter\",\n          \"test\": \"datum.lv == indexLv\"\n        }\n      ]\n    }\n  ],\n  \n  \"signals\": \n  [\n    {\n      \"name\": \"indexLv\",\n      \"init\": \"1\",\n      \"streams\": \n      [\n        {\n          \"type\": \"mousemove\",\n          \"expr\": \"max(1, round(iscale('x', clamp(eventX(), 0, eventGroup('root').width))))\"\n        }\n      ]\n    }\n  ],\n  \n  \"legends\": \n  [\n    {\n      \"fill\": \"color\",\n      \"orient\": \"bottom-right\",\n      \"properties\": \n      {\n        \"x\": {\"scale\": \"x_abs\", \"value\": 90},\n        \"y\": {\"scale\": \"y_abs\", \"value\": 10},\n        \"symbols\": {\"size\": {\"value\": 100}, \"stroke\": {\"value\": \"transparent\"} },\n        \"labels\": {\"fontSize\": {\"value\": 12} }\n      }\n    }\n  ],\n  \"scales\": \n  [\n    {\n      \"name\": \"x\",\n      \"type\": \"linear\",\n      \"range\": \"width\",\n      \"domain\": {\"data\": \"table\", \"field\": \"lv\"}\n    },\n    {\n      \"name\": \"y\",\n      \"type\": \"linear\",\n      \"range\": \"height\",\n      \"domain\": \n      {\n        \"fields\": \n        [\n          {\"data\": \"table\", \"field\": \"HP\"},\n          {\"data\": \"table\", \"field\": \"ATK\"}\n        ]\n      }\n    },\n    {\n      \"name\": \"x_abs\",\n      \"type\": \"linear\",\n      \"range\": \"width\",\n      \"domainMin\": 0,\n      \"domainMax\": 100\n    },\n    {\n      \"name\": \"y_abs\",\n      \"type\": \"linear\",\n      \"range\": \"height\",\n      \"domainMin\": 0,\n      \"domainMax\": 100\n    },\n    {\n      \"name\": \"color\",\n      \"type\": \"ordinal\",\n      \"range\": \"category10\",\n      \"domain\": [\"HP\", \"ATK\"]\n    }\n  ],\n\n  \"axes\": \n  [\n    {\"type\": \"x\", \"scale\": \"x\", \"tickSizeEnd\": 0,\n    \"values\": [1,10,20,30,40,50,60,70,80,90,100]}\n  ],\n\n  \"marks\": \n  [\n    {\n      \"type\": \"line\",\n      \"from\": {\"data\": \"table\"},\n      \"properties\": \n      {\n        \"enter\": \n        {\n          \"x\": {\"scale\": \"x\", \"field\": \"lv\"},\n          \"y\": {\"scale\": \"y\", \"field\": \"HP\"},\n\t\t      \"stroke\": {\"value\": \"#1f77b4\"},\n          \"strokeWidth\": {\"value\": 2}\n        }\n      }\n    },\n    {\n      \"type\": \"line\",\n      \"from\": {\"data\": \"table\"},\n      \"properties\": \n      {\n        \"enter\": \n        {\n          \"x\": {\"scale\": \"x\", \"field\": \"lv\"},\n          \"y\": {\"scale\": \"y\", \"field\": \"ATK\"},\n\t\t      \"stroke\": {\"value\": \"#ff7f0e\"},\n          \"strokeWidth\": {\"value\": 2}\n        }\n      }\n    },\n    {\n      \"type\":\"rule\",\n      \"properties\": \n      {\n        \"update\": \n        {\n          \"x\": {\"scale\": \"x\", \"signal\": \"indexLv\", \"offset\" : 0.5},\n          \"y\": {\"value\": 0},\n          \"y2\": {\"field\": {\"group\": \"height\"} },\n          \"stroke\": {\"value\": \"firebrick\"}\n        }\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"properties\": \n      {\n        \"enter\": \n        {\n          \"x\": {\"scale\": \"x_abs\", \"value\": 10},\n          \"y\": {\"scale\": \"y_abs\", \"value\": 85},\n          \"align\": {\"value\": \"right\"},\n          \"text\": {\"value\": \"Lv\"},\n          \"fill\": {\"value\": \"firebrick\"},\n          \"fontSize\": {\"value\": 20}\n        }\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"properties\": \n      {\n        \"enter\": \n        {\n          \"x\": {\"scale\": \"x_abs\", \"value\": 10},\n          \"y\": {\"scale\": \"y_abs\", \"value\": 80},\n          \"align\": {\"value\": \"right\"},\n          \"text\": {\"value\": \"HP\"},\n          \"fill\": {\"value\": \"firebrick\"},\n          \"fontSize\": {\"value\": 20}\n        }\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"properties\": \n      {\n        \"enter\": \n        {\n          \"x\": {\"scale\": \"x_abs\", \"value\": 10},\n          \"y\": {\"scale\": \"y_abs\", \"value\": 75},\n          \"align\": {\"value\": \"right\"},\n          \"text\": {\"value\": \"ATK\"},\n          \"fill\": {\"value\": \"firebrick\"},\n          \"fontSize\": {\"value\": 20}\n        }\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"properties\": \n      {\n        \"update\": \n        {\n          \"x\": {\"scale\": \"x_abs\", \"value\": 10.5},\n          \"y\": {\"scale\": \"y_abs\", \"value\": 85},\n          \"align\": {\"value\": \"left\"},\n          \"text\": {\"signal\": \"indexLv\"},\n          \"fill\": {\"value\": \"firebrick\"},\n          \"fontSize\": {\"value\": 20}\n        }\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"from\": {\"data\": \"curLv\"},\n      \"properties\": \n      {\n        \"update\": \n        {\n          \"x\": {\"scale\": \"x_abs\", \"value\": 10.5},\n          \"y\": {\"scale\": \"y_abs\", \"value\": 80},\n          \"align\": {\"value\": \"left\"},\n          \"text\": {\"field\": \"HP\"},\n          \"fill\": {\"value\": \"firebrick\"},\n          \"fontSize\": {\"value\": 20}\n        }\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"from\": {\"data\": \"curLv\"},\n      \"properties\": \n      {\n        \"update\": \n        {\n          \"x\": {\"scale\": \"x_abs\", \"value\": 10.5},\n          \"y\": {\"scale\": \"y_abs\", \"value\": 75},\n          \"align\": {\"value\": \"left\"},\n          \"text\": {\"field\": \"ATK\"},\n          \"fill\": {\"value\": \"firebrick\"},\n          \"fontSize\": {\"value\": 20}\n        }\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"properties\": \n      {\n        \"update\": \n        {\n          \"x\": {\"scale\": \"x\", \"signal\": \"indexLv\"},\n          \"y\": {\"scale\": \"y_abs\", \"value\": \"0\"},\n          \"align\": {\"value\": \"center\"},\n          \"text\": {\"signal\": \"indexLv\"},\n          \"fill\": {\"value\": \"steelblue\"},\n          \"fontSize\": {\"value\": 20}\n        }\n      }\n    }\n  ]\n} }}\n</div>\n<div class=\"nodesktop\">\n{{#tag:graph|{\n  \"width\": 320,\n  \"height\": 200,\n  \"padding\": {\"top\": 10, \"left\": 10, \"bottom\": 30, \"right\": 15},\n\n  \"data\": \n  [\n    {\n      \"name\": \"table\",\n      \"values\": [ {{{\u6570\u636e}}} ]\n    },\n    {\n      \"name\": \"curLv\",\n      \"source\": \"table\",\n      \"transform\": \n      [\n        {\n          \"type\": \"filter\",\n          \"test\": \"datum.lv == indexLv\"\n        }\n      ]\n    }\n  ],\n  \n  \"signals\": \n  [\n    {\n      \"name\": \"indexLv\",\n      \"init\": \"1\",\n      \"streams\": \n      [\n        {\n          \"type\": \"mousemove\",\n          \"expr\": \"max(1, round(iscale('x', clamp(eventX(), 0, eventGroup('root').width))))\"\n        }\n      ]\n    }\n  ],\n  \n  \"legends\": \n  [\n    {\n      \"fill\": \"color\",\n      \"orient\": \"bottom-right\",\n      \"properties\": \n      {\n        \"x\": {\"scale\": \"x_abs\", \"value\": 90},\n        \"y\": {\"scale\": \"y_abs\", \"value\": 10},\n        \"symbols\": {\"size\": {\"value\": 100}, \"stroke\": {\"value\": \"transparent\"} },\n        \"labels\": {\"fontSize\": {\"value\": 12} }\n      }\n    }\n  ],\n  \"scales\": \n  [\n    {\n      \"name\": \"x\",\n      \"type\": \"linear\",\n      \"range\": \"width\",\n      \"domain\": {\"data\": \"table\", \"field\": \"lv\"}\n    },\n    {\n      \"name\": \"y\",\n      \"type\": \"linear\",\n      \"range\": \"height\",\n      \"domain\": \n      {\n        \"fields\": \n        [\n          {\"data\": \"table\", \"field\": \"HP\"},\n          {\"data\": \"table\", \"field\": \"ATK\"}\n        ]\n      }\n    },\n    {\n      \"name\": \"x_abs\",\n      \"type\": \"linear\",\n      \"range\": \"width\",\n      \"domainMin\": 0,\n      \"domainMax\": 100\n    },\n    {\n      \"name\": \"y_abs\",\n      \"type\": \"linear\",\n      \"range\": \"height\",\n      \"domainMin\": 0,\n      \"domainMax\": 100\n    },\n    {\n      \"name\": \"color\",\n      \"type\": \"ordinal\",\n      \"range\": \"category10\",\n      \"domain\": [\"HP\", \"ATK\"]\n    }\n  ],\n\n  \"axes\": \n  [\n    {\"type\": \"x\", \"scale\": \"x\", \"tickSizeEnd\": 0,\n    \"values\": [1,10,20,30,40,50,60,70,80,90,100]}\n  ],\n\n  \"marks\": \n  [\n    {\n      \"type\": \"line\",\n      \"from\": {\"data\": \"table\"},\n      \"properties\": \n      {\n        \"enter\": \n        {\n          \"x\": {\"scale\": \"x\", \"field\": \"lv\"},\n          \"y\": {\"scale\": \"y\", \"field\": \"HP\"},\n\t\t      \"stroke\": {\"value\": \"#1f77b4\"},\n          \"strokeWidth\": {\"value\": 2}\n        }\n      }\n    },\n    {\n      \"type\": \"line\",\n      \"from\": {\"data\": \"table\"},\n      \"properties\": \n      {\n        \"enter\": \n        {\n          \"x\": {\"scale\": \"x\", \"field\": \"lv\"},\n          \"y\": {\"scale\": \"y\", \"field\": \"ATK\"},\n\t\t      \"stroke\": {\"value\": \"#ff7f0e\"},\n          \"strokeWidth\": {\"value\": 2}\n        }\n      }\n    },\n    {\n      \"type\":\"rule\",\n      \"properties\": \n      {\n        \"update\": \n        {\n          \"x\": {\"scale\": \"x\", \"signal\": \"indexLv\", \"offset\" : 0.5},\n          \"y\": {\"value\": 0},\n          \"y2\": {\"field\": {\"group\": \"height\"} },\n          \"stroke\": {\"value\": \"firebrick\"}\n        }\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"properties\": \n      {\n        \"enter\": \n        {\n          \"x\": {\"scale\": \"x_abs\", \"value\": 10},\n          \"y\": {\"scale\": \"y_abs\", \"value\": 85},\n          \"align\": {\"value\": \"right\"},\n          \"text\": {\"value\": \"Lv\"},\n          \"fill\": {\"value\": \"firebrick\"},\n          \"fontSize\": {\"value\": 12}\n        }\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"properties\": \n      {\n        \"enter\": \n        {\n          \"x\": {\"scale\": \"x_abs\", \"value\": 10},\n          \"y\": {\"scale\": \"y_abs\", \"value\": 80},\n          \"align\": {\"value\": \"right\"},\n          \"text\": {\"value\": \"HP\"},\n          \"fill\": {\"value\": \"firebrick\"},\n          \"fontSize\": {\"value\": 12}\n        }\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"properties\": \n      {\n        \"enter\": \n        {\n          \"x\": {\"scale\": \"x_abs\", \"value\": 10},\n          \"y\": {\"scale\": \"y_abs\", \"value\": 75},\n          \"align\": {\"value\": \"right\"},\n          \"text\": {\"value\": \"ATK\"},\n          \"fill\": {\"value\": \"firebrick\"},\n          \"fontSize\": {\"value\": 12}\n        }\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"properties\": \n      {\n        \"update\": \n        {\n          \"x\": {\"scale\": \"x_abs\", \"value\": 10.5},\n          \"y\": {\"scale\": \"y_abs\", \"value\": 85},\n          \"align\": {\"value\": \"left\"},\n          \"text\": {\"signal\": \"indexLv\"},\n          \"fill\": {\"value\": \"firebrick\"},\n          \"fontSize\": {\"value\": 12}\n        }\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"from\": {\"data\": \"curLv\"},\n      \"properties\": \n      {\n        \"update\": \n        {\n          \"x\": {\"scale\": \"x_abs\", \"value\": 10.5},\n          \"y\": {\"scale\": \"y_abs\", \"value\": 80},\n          \"align\": {\"value\": \"left\"},\n          \"text\": {\"field\": \"HP\"},\n          \"fill\": {\"value\": \"firebrick\"},\n          \"fontSize\": {\"value\": 12}\n        }\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"from\": {\"data\": \"curLv\"},\n      \"properties\": \n      {\n        \"update\": \n        {\n          \"x\": {\"scale\": \"x_abs\", \"value\": 10.5},\n          \"y\": {\"scale\": \"y_abs\", \"value\": 75},\n          \"align\": {\"value\": \"left\"},\n          \"text\": {\"field\": \"ATK\"},\n          \"fill\": {\"value\": \"firebrick\"},\n          \"fontSize\": {\"value\": 12}\n        }\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"properties\": \n      {\n        \"update\": \n        {\n          \"x\": {\"scale\": \"x\", \"signal\": \"indexLv\"},\n          \"y\": {\"scale\": \"y_abs\", \"value\": \"0\"},\n          \"align\": {\"value\": \"center\"},\n          \"text\": {\"signal\": \"indexLv\"},\n          \"fill\": {\"value\": \"steelblue\"},\n          \"fontSize\": {\"value\": 12}\n        }\n      }\n    }\n  ]\n} }}\n</div>\n</includeonly>"}}}