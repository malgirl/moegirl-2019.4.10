{"parse":{"title":"Widget:OhMyNeck","pageid":110719,"wikitext":{"*":"<noinclude>[[\u4e3a\u4ec0\u4e48\u8981\u4f24\u5bb3\u6211\u4eec\u7684\u8116\u5b50]]\uff0c\u4f5c\u8005[[User:AnnAngela]]\uff0c\u9075\u5faaCC BY-NC-SA 3.0</noinclude><includeonly><!--{if !isset($wgOhMyNeck) || !$wgOhMyNeck}--><!--{assign var=\"wgOhMyNeck\" value=true scope=\"global\"}--><script>\nwindow.RLQ = window.RLQ || [];\nwindow.RLQ.push(function () {\n    $(function () {\n        function getScrollBarWidth() {\n            var $outer = $('<div>').css({ visibility: 'hidden', width: 100, overflow: 'scroll' }).appendTo('body'),\n                widthWithScroll = $('<div>').css({ width: '100%' }).appendTo($outer).outerWidth();\n            $outer.remove();\n            return 100 - widthWithScroll;\n        };\n        if ($('body').hasClass('skin-minerva') || window.navigator.userAgent.toLowerCase().indexOf('mobile') !== -1) return;\n        var self = $('#OhMyNeck'),\n            h = self.height(),\n            button = $('#HelpMyNeck'),\n            calc = Math.min($(window).height(), $(\"#mw-content-text\").width()) - 52,\n            container = $('#OhMyNeckOuter');\n        if (!self[0]) return;\n        if (!button[0]) {\n            button = $('<div/>');\n            self.after(button);\n        }\n        button.show().prepend('<span>\u70b9\u6b64\u62ef\u6551\u4f60\u7684\u8116\u5b50\uff1a</span><input id=\"HelpMyNeckButton\"/>');\n        $(window).on('resize', function () {\n            if (self.is('.on')) {\n                h = self.height(), calc = Math.min($(window).height(), $(\"#mw-content-text\").width()) - 52;\n                var w = Math.sqrt(Math.pow(calc - getScrollBarWidth(), 2) / 2);\n                self.width(w).height(w);\n                container.height(calc);\n            }\n        });\n        $('#HelpMyNeckButton').attr('type', 'button').val('0\u00b0\u5934\u9876\u9752\u5929').on('click', function () {\n            if (self.is('.on')) {\n                self.removeClass('on').height(h).delay(400).css('height', 'unset').css('width', 'unset').css('overflow', 'auto');\n                container.css('height', 'unset');\n                $(this).val('45\u00b0\u65b0\u623f\u89c6\u89d2');\n                container.find('span:first').text('\u70b9\u6b64\u953b\u70bc\u4f60\u7684\u8116\u5b50\uff1a');\n            } else {\n                self.addClass('on').css('overflow', 'auto');\n                $(window).resize();\n                $(this).val('0\u00b0\u5934\u9876\u9752\u5929');\n                container.find('span:first').text('\u70b9\u6b64\u62ef\u6551\u4f60\u7684\u8116\u5b50\uff1a');\n            }\n            $(window).resize();\n        }).click();\n        $('#MobileNotice').hide();\n        setTimeout(function () {\n            $(window).resize();\n        }, 100);\n        $(\"html, body\").animate({\n            scrollTop: container.offset().top\n        }, 120);\n    });\n});</script><style>\n#OhMyNeckOuter {\n    overflow: hidden;\n    position: relative;\n}\n#OhMyNeck {\n    /* margin:1em; */\n    transition: all 0.37s ease-in-out;\n    transform-origin: top left;\n}\n#OhMyNeck.on {\n    transform: rotate(-45deg) translate(-100%, 0);\n    position: absolute;\n    left: 50%;\n}\n</style><!--{/if}--></includeonly>"}}}