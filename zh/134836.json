{"parse":{"title":"Widget:CreateGallery/\u6e90\u4ee3\u7801","pageid":112168,"wikitext":{"*":"<noinclude>\u7528\u6765\u8f93\u51fa\u753b\u5eca\u56fe\u7247\u751f\u6210\u4ee3\u7801\u5230id\u4e3a\u201ccreateGalleryBox\u201d\u7684div\uff0c\u4f5c\u8005[[User:AnnAngela]]\u3002</noinclude><includeonly><!--{if !isset($wgCreateGallery) || !$wgCreateGallery}--><!--{assign var=\"wgCreateGallery\" value=true scope=\"global\"}-->\n<div class=\"nomobile\" id=\"createGalleryTitle\">\u753b\u5eca\u4ee3\u7801\u751f\u6210\u6846</div>\n<div class=\"createGalleryBoxNoDesktop\">\u79fb\u52a8\u7248\u4e0d\u9002\u7528\u753b\u5eca\u4ee3\u7801\u81ea\u52a8\u751f\u6210\uff0c\u8bf7\u4f7f\u7528\u684c\u9762\u7248\u3002</div><div class=\"nomobile\" id=\"createGalleryError\">\u521b\u5efa\u753b\u5eca\u4ee3\u7801\u751f\u6210\u6846\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u3002</div><div class=\"nomobile\" id=\"createGalleryBox\"></div>\n<script type=\"text/javascript\">\n(function($, mw) {\n    if (!$('body.skin-vector')[0]) return console.debug('\u79fb\u52a8\u7248\u4e0d\u9002\u7528\u753b\u5eca\u4ee3\u7801\u81ea\u52a8\u751f\u6210');\n    else if (typeof mw.config.get(\"createGallery\") == 'undefined') {\n        mw.config.set('createGallery', 'on');\n        $(function() {\n            var _Content, _ContentLine, _ContentLinePic, _ContentLinePgN, _ContentLinePgT, _Output, _Self;\n            $('.createGalleryBoxNoDesktop,#createGalleryError').hide();\n            $('#createGalleryBox').show();\n            $('#createGalleryBox').append('<div id=\"createGallery\"/>');\n            $('#createGallery').append('<div id=\"createGalleryContent\"/><hr/><div id=\"createGalleryButton\"/><hr/><div id=\"createGalleryOutput\"/>');\n            $('#createGalleryContent').before('<div>\u8f93\u5165\u533a\uff1a</div>').after('<div>\u5982\u679c\u4e00\u884c\u4e2d\u201c\u56fe\u7247\u540d\u201d\u548c\u201c\u9875\u9762\u540d\u201d\u6709\u4e00\u4e2a\u4e0d\u662f\u6709\u6548\u503c\u5219\u4e0d\u8f93\u51fa\u8be5\u884c\uff01</div>').append('<div id=\"createGalleryContentMode\"/><input id=\"createGalleryContentLine\"/><ol/>').find('#createGalleryContentLine').attr('type', 'button').val('\u70b9\u51fb\u65b0\u589e\u4e00\u884c').bind('click', function() {\n                _Content = $('#createGalleryContent ol').append('<li class=\"createGalleryContentLine\"/>').find('.createGalleryContentLine:empty').append('<input class=\"createGalleryContentLine1\"/><input class=\"createGalleryContentLine2\"/><input class=\"createGalleryContentLine3\"/>');\n                _Content.find('.createGalleryContentLine1').attr({\n                    'type': 'input',\n                    'placeholder': '\u56fe\u7247\u540d\uff08\u4e0d\u5e26File:\u6216Image:\u524d\u7f00\uff09'\n                });\n                _Content.find('.createGalleryContentLine2').attr({\n                    'type': 'input',\n                    'placeholder': '\u9875\u9762\u540d'\n                });\n                _Content.find('.createGalleryContentLine3').attr({\n                    'type': 'input',\n                    'placeholder': '\u94fe\u63a5\u6807\u9898\uff08\u4e0d\u586b\u5219\u4f7f\u7528\u9875\u9762\u540d\uff09'\n                });\n            });\n            $('#createGalleryContentMode').append('<span>\u6a21\u3000\u5f0f\uff1a</span><input id=\"createGalleryMode\"/>').find('#createGalleryMode').attr({\n                'type': 'input',\n                'placeholder': '\u9ed8\u8ba4\u4e3atraditional'\n            });\n            $('#createGalleryButton').append('<span>\u64cd\u3000\u4f5c\uff1a</span><input id=\"createGalleryButton2Output\"/><input id=\"createGalleryButton2Clear\"/>');\n            $('#createGalleryOutput').append('<div>\u8f93\u51fa\u533a\uff1a</div><pre/>');\n            $('#createGalleryButton2Output').attr('type', 'button').val('\u8f93\u51fa').bind('click', function() {\n                _ContentMode = $('#createGalleryMode'), _ContentLine = $('#createGalleryContent .createGalleryContentLine'), _Output = $('#createGalleryOutput pre');\n                switch (_ContentMode.val()) {\n                    case 'traditional':\n                    case 'nolines':\n                    case 'packed':\n                    case 'packed-overlay':\n                    case 'packed-hover':\n                        _Output.empty().append('&lt;gallery mode=\"' + _ContentMode.val() + '\">');\n                        break;\n                    default:\n                        _Output.empty().append('&lt;gallery mode=\"traditional\">');\n                }\n                _ContentLine.each(function() {\n                    _Self = $(this), _ContentLinePic = _Self.find('.createGalleryContentLine1').val(), _ContentLinePgN = _Self.find('.createGalleryContentLine2').val(), _ContentLinePgT = _Self.find('.createGalleryContentLine3').val();\n                    if (!_ContentLinePic || !_ContentLinePgN || _ContentLinePic.toLowerCase().indexOf('file:') + _ContentLinePic.toLowerCase().indexOf('image:') != -2) return true;\n                    else if (_ContentLinePgT) _Output.append('\\nImage:' + _ContentLinePic + '|[[' + _ContentLinePgN + '|' + _ContentLinePgT + ']\\]|link=' + _ContentLinePgN + '|alt=' + _ContentLinePgN);\n                    else _Output.append('\\nImage:' + _ContentLinePic + '|[[' + _ContentLinePgN + ']\\]|link=' + _ContentLinePgN + '|alt=' + _ContentLinePgN);\n                });\n                _Output.append('\\n&lt;/gallery>');\n            });\n            $('#createGalleryButton2Clear').attr('type', 'button').val('\u6e05\u7a7a').bind('click', function() {\n                $('#createGalleryContent ol,#createGalleryOutput pre').empty();\n            });\n        });\n    }\n})(jQuery, mediaWiki);\n</script>\n<style type=\"text/css\">\n#createGalleryBox,\n.skin-vector #createGalleryBoxNoDesktop {\n    display:none;\n}\n\n#createGalleryTitle {\n    text-align:center;\n    font-weight:bold;\n}\n\n#createGallery {\n    margin: 1em;\n    border: 1px solid #a7d7f9;\n    padding: 1em;\n}\n\n#createGallery span {\n    height: 22px;\n}\n\n#createGallery hr {\n    margin: 1em;\n}\n\n#createGalleryContent {\n    margin-bottom: 1em;\n    border: 1px solid #a7d7f9;\n    padding: 1em;\n}\n\n#createGalleryContentMode {\n    margin-bottom: 1em;\n}\n\n#createGalleryContent ol input {\n    width: 30%;\n    margin-right: 1em;\n}\n</style>\n<!--{/if}--></includeonly>"}}}