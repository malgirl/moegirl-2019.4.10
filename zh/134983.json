{"parse":{"title":"\u6a21\u5757:Lyrics2","pageid":205353,"wikitext":{"*":"local p = {}\n\nlocal getArgs = require('Module:Arguments').getArgs\nlocal lang = require('Module:Lang')\n\nfunction p._lyrics(args)\n\tlocal orig = mw.text.split(args.original or '', '\\n')\n\tlocal tran = mw.text.split(args.translated or '', '\\n')\n\tlocal llang = args.llang or 'ja'\n\tlocal rlang = args.rlang or 'zh'\n\tlocal lstyle = 'width:45%;min-width:300px;display:inline-block;white-space:pre-wrap;' .. (args.lstyle or '')\n\tlocal rstyle = 'width:45%;min-width:300px;display:inline-block;white-space:pre-wrap;' .. (args.rstyle or '')\n\n\tif args.original:match('<ruby') then\n\t\tlstyle = 'line-height:2;' .. lstyle\n\tend\n\n\tlocal html = mw.html.create()\n\n\tfor i, v in pairs(orig) do\n\t\thtml:\n\t\t\ttag('div')\n\t\t\t\t:tag('div')\n\t\t\t\t\t:cssText(lstyle)\n\t\t\t\t\t:node(lang.wrap(v, llang))\n\t\t\t\t\t:tag('br')\n\t\t\t\t\t\t:done()\n\t\t\t\t\t:done()\n\t\t\t\t:tag('div')\n\t\t\t\t\t:cssText(rstyle)\n\t\t\t\t\t:node(lang.wrap(tran[i], rlang))\n\t\t\t\t\t:tag('br')\n\t\t\t\t\t\t:done()\n\t\t\t\t\t:done()\n\tend\n\t\n\t-- Clear the floating\n\thtml:tag('div'):cssText('clear:both')\n\n\treturn tostring(html)\nend\n\nfunction p.lyrics(frame)\n\tlocal args = getArgs(frame, {wrappers='Template:LyricsKai2'})\n\treturn p._lyrics(args)\nend\n\nreturn p"}}}