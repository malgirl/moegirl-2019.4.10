{"parse":{"title":"Widget:CatPageLink","pageid":110342,"wikitext":{"*":"<noinclude>\u8fd9\u4e2awidget\u662f\u7528\u6765\u5408\u5e76\u5206\u7c7b\u9875\u5b50\u5206\u7c7b\u548c\u9875\u9762\u7684\uff0c\u4f5c\u8005\u662f[[User:AnnAngela]],\u9075\u5faaCC BY-NC-SA 3.0\u534f\u8bae\u3002</noinclude><includeonly><!--{if !isset($wgCatPageLink) || !$wgCatPageLink}--><!--{assign var=\"wgCatPageLink\" value=true scope=\"global\"}--><script type=\"text/javascript\">\n/* global mw */\n\"use strict\";\n\nwindow.RLQ = window.RLQ || [];\nwindow.RLQ.push(function() {\n    if (window.navigator.userAgent.toLowerCase().indexOf('mobile') !== -1) console.debug('\u79fb\u52a8\u7248\u4e0d\u9002\u7528\u5206\u7c7b\u91cd\u6574');\n    else if (!mw.config.get(\"widgetCatPageLink\")) {\n        mw.config.set('widgetCatPageLink', 'on');\n        $(function() {\n            var $catlist = $('#mw-subcategories'),\n                $catctx = $catlist.parent(),\n                $catpages = $('#mw-pages'),\n                $impcats = $('<div/>', {\n                    class: 'mw-category-important mw-category-group'\n                }).append('<h3 style=\"font-weight: normal;\">\u91cd\u8981\u9875\u9762</h3><ul></ul>'),\n                impTitle = [],\n                catLength = $catlist.find('li').length,\n                catpageLen = $catpages.find('li').length;\n            if (!catLength || !catpageLen) return;\n            $catlist.find('h2').text('\u5b50\u5206\u7c7b\u548c\u5b50\u9875\u9762');\n            $catlist.find('p:first').text('\u672c\u5206\u7c7b\u6709' + catLength + '\u4e2a\u5b50\u5206\u7c7b\u548c' + catpageLen + '\u4e2a\u5b50\u9875\u9762');\n            $('#CatPageLinkDataSet span').each(function() {\n                impTitle.push($(this).text().replace(/\\s/g, '').replace(String.fromCharCode(8206), '') //mdzz,gtmd ltr code\n                );\n            });\n            if ($catlist.find('.mw-category-group')[0]) $catlist.find('.mw-category-group').each(function() {\n                $(this).attr('data-index', $(this).find('h3').text());\n            });\n            else {\n                $('<div/>', { class: 'mw-category' }).append($catlist.find('.mw-content-ltr').children()).appendTo($catlist.find('.mw-content-ltr')).find('h3').each(function() {\n                    var group = $('<div/>', { class: 'mw-category-group' });\n                    $(this).before(group);\n                    group.prepend($(this).next()).prepend($(this)).attr('data-index', $(this).text());\n                });\n                $catlist = $('#mw-subcategories');\n            }\n            $catpages.find('h3').each(function() {\n                var index = $(this).text(),\n                    $cat = $(this).next(),\n                    $slt = $catlist.find('.mw-category-group[data-index=\"' + index + '\"]');\n                if ($slt[0]) $slt.find('ul').append($cat.find('li'));\n                else $catlist.find('.mw-category').append('<div class=\"mw-category-group\" data-index=\"' + index + '\"><h3>' + index + '</h3><ul></ul></div>').find('.mw-category-group[data-index=\"' + index + '\"]').find('ul').append($cat.find('li'));\n            }).end().remove();\n            $catlist.find('li').each(function() {\n                $(this).attr('data-title', $(this).find('a:first').text());\n            });\n            $catlist.find('.mw-category-group').sort(function(a, b) {\n                return a.dataset.index.localeCompare(b.dataset.index);\n            }).appendTo($catlist.find('.mw-category'));\n            impTitle.forEach(function(v) {\n                $catlist.find('li[data-title=\"' + v + '\"]').appendTo($impcats.find('ul'));\n            });\n            $('#mw-subcategories .mw-category-group').each(function() {\n                if (!$(this).find('li')[0]) $(this).remove();\n            });\n            if ($impcats.find('li')[0]) $catlist.find('.mw-content-ltr').before($impcats.sort(function(a, b) {\n                return a.dataset.title.localeCompare(b.dataset.title);\n            })).before('<hr>');\n            $catctx.addClass('catPageLink');\n        });\n    }\n});\n</script><style>\n.catPageLink .mw-category-group > ul {\n    list-style: none none;\n    margin-left: 0.25em;\n}\n.mw-category-group > ul > li > a {\n    margin-left: 18px;\n}\n.mw-category-important ul {\n    -webkit-column-count: 3;\n    -moz-column-count: 3;\n    column-count: 3;\n    -webkit-column-width: 24em;\n    -moz-column-width: 24em;\n    column-width: 24em;\n}\n.mw-category-group {\n    clear: both;\n}\n</style>\n<!--{/if}--></includeonly>"}}}