{"parse":{"title":"\u6a21\u5757:Nihongo title","pageid":311402,"wikitext":{"*":"local p = {}\n\nlocal getArgs = require('Module:Arguments').getArgs\nlocal yesno = require('Module:Yesno')\n\nlocal function varCase(t)\n\tlocal case = 'CHT'\n\t\n\tif t.cn == '' or t.tw == '' then\n\t\tcase = ''\n\t\n\telseif t.hk == '' or t.hk == 'tw' or t.hk == t.tw then\n\t\tcase = 'CTT'\n\n\telseif t.hk == 'cn' or t.hk == t.cn then\n\t\tcase = 'CCT'\n\n\telseif t.tw == 'cn' or t.tw == t.cn then\n\t\tcase = 'CHC'\n\n\telseif t.cn == 'tw' or t.cn == t.tw then\n\t\tcase = 'THT'\n\tend\n\t\n\treturn case\nend\n\nlocal function chi(t)\n\tlocal ret = ''\n\tlocal lang = ''\n\tlocal case = varCase(t)\n\t\n\tlocal list = {\n\t\t{'C', \"\u4e2d\u56fd\u5927\u9646\", t.cn},\n\t\t{'H', \"\u9999\u6e2f\", t.hk},\n\t\t{'T', \"\u53f0\u6e7e\", t.tw},\n\t\t{'CH', \"\u4e2d\u56fd\u5927\u9646\u548c\u9999\u6e2f\", t.cn},\n\t\t{'HT', \"\u9999\u6e2f\u548c\u53f0\u6e7e\", t.tw},\n\t\t{'CT', \"\u4e2d\u56fd\u5927\u9646\u548c\u53f0\u6e7e\", t.cn},\n\t\t{'CT2', \"\u4e2d\u56fd\u5927\u9646\u548c\u53f0\u6e7e\", t.tw},\n\t}\n\tlocal varTag = {}\n\n\t\t\n\tfor i, v in ipairs(list) do\n\t\tif v[3] == \"en\" then\n\t\t\tvarTag[v[1]] = v[2] .. \"\u4f7f\u7528\u82f1\u6587\"\n\t\telse\n\t\t\tvarTag[v[1]] = v[2] .. \"\u8bd1\u4f5c\u201c'''\" .. v[3] .. \"'''\u201d\"\n\t\tend\n\tend\n\t\n\tif case == '' then\n \t\treturn ''\n\telseif case == 'CHT' then\n\t\tlang = varTag.C .. '\uff0c' ..  varTag.H .. '\uff0c' ..  varTag.T\n\t\t\n\telseif case == 'CTT' then\n\t\tlang = varTag.C .. '\uff0c' ..  varTag.HT\n\t\t\t\t\n\telseif case == 'CCT' then\n\t\tlang =\tvarTag.CH .. '\uff0c' ..  varTag.T\n\t\n\telseif case == 'CHC' then\n\t\tlang =\tvarTag.CT .. '\uff0c' ..  varTag.H\n\n\telseif case == 'THT' then\n\t\tlang =\tvarTag.CT2 .. '\uff0c' ..  varTag.H\n\tend\n\t\n\treturn lang\nend\n\nlocal function link(cont)\n\n\tif yesno(_link, true) then\n\t\tif yesno(_lead) then\n\t\t\tcont = '[[' .. cont .. ']]'\n\t\tend\n\t\tcont = cont .. '\uff1a'\n\telse\n\t\tcont = ''\n\tend\n\n\treturn cont\n\nend\n\nfunction p.nihongo_title(frame)\n\t\n\tlocal ret \n\tlocal _ret\n\t\n\tlocal args = getArgs(frame, {\n\t\tframeOnly= true;\n\t\tvalueFunc = function (key, value)\n\t\t\tif value == nil and value ~= 'no' then \n\t\t\t\treturn ''\n\t\t\telse\n\t\t\t\treturn value\n\t\t\tend\n\t\tend;\n\t})\n\t\n\t_link = args.link\n\t_lead = args.lead\n\n\tif args[1] ~= '' and args[2] ~= '' then\n\t\t\n\t\tret = \"\u300a'''\" .. args[1] .. \"'''\u300b\" .. '\uff08' .. link('\u65e5\u8bed') .. \"{{lj|'''\" .. args[2] .. \"'''}}\"\n\t\t\n\t\tif args[3] ~= '' then\n\t\t\t\n\t\t\tret = ret .. '\uff0c' .. link('\u82f1\u8bed') .. \"{{lang|en|'''''\" .. args[3] .. \"'''''}}\"\n\t\t\t\n\t\tend\n\t\t\n\t\tif args.cn ~= '' and args.tw ~= '' then\n\t\t\t\n\t\t\tret = ret .. '\uff0c' .. chi(args)\n\t\t\t\n\t\tend\n\t\t\n\t\tif args[4] ~= '' then\n\t\t\t\n\t\t\tret = ret .. '\uff0c' .. args[4]\n\t\t\t\n\t\tend\n\t\t\n\t\tret = ret .. '\uff09'\n\t\t\n\t\tif args[5] ~= '' then\n\t\t\t\n\t\t\tret = ret .. args[5]\n\t\t\t\n\t\tend\n\t\t\n\tend\n\t\n\n\treturn ret\n\t\nend\n\t\nreturn p"}}}