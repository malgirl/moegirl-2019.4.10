{"parse":{"title":"\u6a21\u5757:Split","pageid":304800,"wikitext":{"*":"local module = {}\n\nlocal getArgs = require('Module:Arguments').getArgs\n\nfunction module._main(args, frame)\n\tlocal str = args['str'] or ''\n\tlocal ptn = args['ptn'] or ''\n\tptn = mw.text.decode(mw.text.unstripNoWiki(ptn))\n\tlocal name = args['name'] or 'foo'\n\tif args['reg'] ~= 'on' then\n\t\tptn = mw.ustring.gsub(ptn, '([%%%(%)%.%+%-%*%?%[%]%^%$])', '%%%1')\n\tend\n\tlocal datas = mw.text.split(str, ptn)\n\tfor i, v in ipairs(datas) do\n\t\tv = mw.ustring.gsub(v, '^%s*(.+)%s*$', '%1')\n\t\tframe:callParserFunction( '#vardefine', name..i,  v)\n\tend\n\tframe:callParserFunction( '#vardefine', name..'.count',  #datas)\nend\n\nfunction module.main(frame)\n\tlocal args = getArgs(frame)\n\treturn module._main(args, frame)\nend\n\n\nreturn module"}}}