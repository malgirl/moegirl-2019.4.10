{"parse":{"title":"User:\u4e5d\u6c5f\u6708/common.js/vector.js","pageid":198700,"wikitext":{"*":"/* Hitokoto version: 3.1.2 *//* eslint-disable */\n\"use strict\";\nfunction _classCallCheck(instance,Constructor){\n\tif(!(instance instanceof Constructor)){\n\t\tthrow new TypeError(\"Cannot call a class as a function\");\n\t}\n}\n$.extend({\n\tgetURI:function getURI(name){\n\treturn'https://AnnAngela.github.io/MoegirlPedia-Hitokoto/'+name;\n\t},\n\tgetCode:function getCode(name,f){\n\t\treturn $.get($.getURI(name)+'?_='+new Date().getTime(),f);\n\t},\n\trunCode:function runCode(name,version,type){\n\t\tvar isJS=type==='js',\n\t\tnode=document.createElement(isJS?'script':'link'),\n\t\turl=$.getURI(name)+'?version='+version;\n\t\tfunction getLink(){\n\t\t\treturn isJS?node.src:node.href;\n\t\t}\n\t\tfunction setLink(l){\n\t\t\tif(isJS)node.src=l;else node.href=l;\n\t\t}\n\t\tif(isJS)node.type=\"text/javascript\";else node.rel=\"stylesheet\";\n\t\tsetLink(url);\n\t\tnode.addEventListener('error',function(){\n\t\t\tif(/\\d{13,}/.test(getLink()))setLink(getLink().replace(/\\d{13,}/g,new Date().getTime()));else setLink(getLink()+'&_='+new Date().getTime());\n\t\t});\n\t\tdocument.body.appendChild(node);\n\t}\n});\n$.getCode('package.json',function(_ref){\n\tvar ver=_ref.version;var _ref$Files=_ref.Files;var js=_ref$Files.js;var css=_ref$Files.css.minified;\n\tvar Hitokoto=function Hitokoto(){\n\t\t_classCallCheck(this,Hitokoto);\n\t\tvar version=ver,Reflect=window.Reflect||{};\n\t\tvar self=this,moduleList={\n\t\t\tjs:mw.config.get('AnnTools-Hitokoto-es2015')?js.es2015:js.es5minified,css:css\n\t\t};\n\t\tlocalStorage.setItem('AnnTools-Hitokoto-version',version);\n\t\tObject.assign(self,{\n\t\t\trunning:false,\n\t\t\tstopping:false,\n\t\t\tversion:version,\n\t\t\tmodule:moduleList,\n\t\t\tmoduleKeys:(Reflect.keys||Reflect.ownKeys||Object.keys)(moduleList),\n\t\t\tnumberArray:['one','two','three','four','five','six','seven','eight','nine','ten']\n\t\t});\n\t\tmoduleList.js.forEach(function(n){\n\t\t\treturn n.includes('timer')||n.includes('startup')||$.runCode(n,version,'js');\n\t\t});\n\t\tmoduleList.css.forEach(function(n){\n\t\t\treturn $.runCode(n,version,'css');\n\t\t});\n\t};\n\twindow.Hitokoto=new Hitokoto();\n});"}}}