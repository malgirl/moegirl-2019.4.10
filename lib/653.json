{"parse":{"title":"\u7528\u6237:AnnAngela/common.js","pageid":290,"wikitext":{"*":"importScriptURI('http://www.moesound.org/wikiplus/Main.new.js');\n/* \u56de\u5230\u9876\u90e8 */\n(function() {\n    var $backToTopTxt = \"\u8fd4\u56de\u9876\u90e8\", $backToTopEle = $('<div class=\"backToTop\"></div>').appendTo($(\"body\"))\n        .text($backToTopTxt).attr(\"title\", $backToTopTxt).click(function() {\n            $(\"html, body\").animate({ scrollTop: 0 }, 120);\n    }), $backToTopFun = function() {\n        var st = $(document).scrollTop(), winh = $(window).height();\n        (st > 0)? $backToTopEle.show(): $backToTopEle.hide();\n        //IE6\u4e0b\u7684\u5b9a\u4f4d\n        if (!window.XMLHttpRequest) {\n            $backToTopEle.css(\"top\", st + winh - 166);\n        }\n    };\n    $(window).bind(\"scroll\", $backToTopFun);\n    $(function() { $backToTopFun(); });\n})();\n/* \u5f3a\u5236\u5237\u65b0\u9875\u9762 */\n( function( $, undefined ) {\n \nfunction showTime( $target ) {\n\tvar dateNode = UTCLiveClockConfig.node;\n\tif( !dateNode ) {\n\t\treturn;\n\t}\n\tvar now = new Date();\n\tvar hh = now.getUTCHours();\n\tvar mm = now.getUTCMinutes();\n\tvar ss = now.getUTCSeconds();\n\tif ( typeof $target === 'undefined' ) {\n\t\t$target = $( dateNode ).find( 'a:first' );\n\t}\n\t$target.text( '\u5f3a\u5236\u5237\u65b0\u9875\u9762' );\n \n\tsetTimeout( function(){\n\t\tshowTime( $target );\t\n\t}, 1000 );\n}\n \nfunction liveClock() {\n \n\tif ( typeof( UTCLiveClockConfig ) === 'undefined' ) {\n\t\twindow.UTCLiveClockConfig = {};\n\t}\n\tvar portletId = UTCLiveClockConfig.portletId || 'p-personal';\n\tvar nextNode = UTCLiveClockConfig.nextNodeId ? document.getElementById( UTCLiveClockConfig.nextNodeId ) : undefined;\n\tUTCLiveClockConfig.node = addPortletLink(\n\t\tportletId,\n\t\twgScript + '?title=' + encodeURIComponent( wgPageName ) + '&action=purge',\n\t\t'',\n\t\t'purge',\n\t\tundefined,\n\t\tundefined,\n\t\tnextNode\n\t);\n\tif( !UTCLiveClockConfig.node ) {\n\t\treturn;\n\t}\n \n\tshowTime();\n}\n$( document ).ready( liveClock );\n \n} )( jQuery );\n/*\n* Author:+Eridanus Sora\n* Work for hitokoto showing\n*/\nfunction hitokoto(){\n\tvar self = this;\n\tthis.API = 'http://api.hitokoto.us/rand?encode=jsc&charset=utf-8';\n\tthis.Interval = 5000;\n\tthis.loadScript = function(){\n\t\t$(\"head\").append('<script id=\"hitokoto_loader\" src=\"' + self.API + '\" />');\n\t}\n\tthis.setIntervalEvent = function(Event,Interval){\n\t\tsetInterval(Event,Interval);\n\t}\n\tthis.displayHitokoto = function(Hitokoto){\n\t\tconsole.log(\"You get a new Hitokoto:\" + Hitokoto.hitokoto);\n\t\tvar author  = Hitokoto.author;\n\t\tvar cat     = Hitokoto.cat;\n\t\tvar catname = Hitokoto.catname;\n\t\tvar date    = Hitokoto.date;\n\t\tvar id      = Hitokoto.id;\n\t\tvar source  = Hitokoto.source;\n\t\tvar content = Hitokoto.hitokoto;\n\t\tvar like    = Hitokoto.like;\n\t\tvar desc = \"\u300c\" + content + \"\u300d  Author : \" + author + \" @ \" + date + \"  Category : \" + catname;\n\t\t$(\"#hitokoto\").children().fadeOut('slow',function(){\n\t\t\t$(\"#hitokoto\").html($(\"<span></span>\").attr(\"title\",desc));\n\t\t\t$(\"#hitokoto span\").append($(\"<a>\" + content + \"</a>\").attr({\"href\":\"http://hitokoto.us/view/\" + id,\"target\":\"_blank\"}).css(\"display\",\"none\").animate({\n\t\t\t\topacity: 1},\n\t\t\t\t0, function() {\n\t\t\t\t    $(this).fadeIn('slow');\n\t\t\t}).after($('<a id=\"toHitokoto\" title=\"\u4e00\u8a00\uff08\u30d2\u30c8\u30b3\u30c8\uff09\">\u4e00\u8a00</a>').attr({'href':'http://hitokoto.us/','target':'_blank'}).css('display','none').animate({\n\t\t\t\topacity: 1},\n\t\t\t\t0, function() {\n\t\t\t\t    $(this).fadeIn('slow');\n\t\t\t}).before($('<span id=\"spliter\" title=\"\">\u3000\u2014\u2014\u3000</span>').css('display','none').animate({\n\t\t\t\topacity: 1},\n\t\t\t\t0, function() {\n\t\t\t\t    $(this).fadeIn('slow');\n\t\t\t}))));\n\t\t\t$(\"head\").find('#hitokoto_loader').remove();\n\t\t});\n\t}\n\tthis.init = function(){\n\t\twindow.hitokoto = this.displayHitokoto;\n\t\tthis.loadScript();\n\t\tthis.setIntervalEvent(this.loadScript,this.Interval);\n\t}\n}\n$(document).ready(function(){\n\t$(\"#siteSub\").after('<div id=\"hitokoto\"><span></span></div>');\n\tH = new hitokoto();\n\tH.init();\n})"}}}